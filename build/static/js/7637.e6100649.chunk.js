"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7637],{19620:(e,s,a)=>{a.r(s),a.d(s,{default:()=>Z});var t=a(72791),r=a(35109),l=a(13162),c=a(89743),d=a(2677),o=a(33821),n=a(323),i=a(53392),m=a(74292),h=a(16157),x=a(34782),u=a(88898),j=(a(67135),a(80184));const Z=()=>{const{user:e}=(0,t.useContext)(u.S),s=e.userId,[a,Z]=(0,t.useState)(""),[A,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[_,v]=(0,t.useState)(!1),[C,E]=(0,t.useState)(""),[I,P]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://15.206.84.226:3007/api/users/user_details/").concat(s));if(!e.ok)throw new Error("Failed to fetch user details");{const s=(await e.json()).data;Z(s.usr_name),p(s.usr_email),g(s.password),b(s.usr_contact),w(s.usr_address)}}catch(e){console.error("Error fetching user details:",e),P("Failed to fetch user details. Please try again.")}})()}),[s]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(r.gV,{}),(0,j.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,j.jsx)(r.Pm,{}),(0,j.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(c.Z,{className:"justify-content-center mb-3",children:(0,j.jsx)(d.Z,{xs:8,children:(0,j.jsxs)("div",{className:"card_border_color_change py-5",style:{borderColor:"white",borderRadius:"10px"},children:[(0,j.jsx)(c.Z,{className:"allfirms_title_mainrow",children:(0,j.jsx)(d.Z,{xs:11,style:{marginLeft:"10px"},children:(0,j.jsxs)(c.Z,{className:"allfirms_title_row py-1 align-items-center",children:[(0,j.jsx)(d.Z,{xs:1,children:(0,j.jsx)("img",{src:l,width:25,height:25,alt:"All Firms Logo"})}),(0,j.jsx)(d.Z,{xs:4,children:(0,j.jsx)("h4",{children:"My Profile"})})]})})}),(0,j.jsx)(c.Z,{className:"allfirms_table_row py-5 justify-content-center",children:(0,j.jsx)(d.Z,{xs:12,md:8,children:(0,j.jsxs)(o.Z,{children:[(0,j.jsxs)(n.Z,{as:c.Z,className:"mb-3",controlId:"formName",children:[(0,j.jsx)(i.Z,{column:!0,md:4,children:"Name"}),(0,j.jsx)(d.Z,{md:8,children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Name",value:a,readOnly:!0})})]}),(0,j.jsxs)(n.Z,{as:c.Z,className:"mb-3",controlId:"formEmail",children:[(0,j.jsx)(i.Z,{column:!0,md:4,children:"Email"}),(0,j.jsx)(d.Z,{md:8,children:(0,j.jsx)(m.Z,{type:"email",placeholder:"Email",value:A,readOnly:!0})})]}),(0,j.jsxs)(n.Z,{as:c.Z,className:"mb-3",controlId:"formPassword",children:[(0,j.jsx)(i.Z,{column:!0,md:4,children:"Password"}),(0,j.jsx)(d.Z,{md:8,children:(0,j.jsx)(m.Z,{type:"password",placeholder:"*****************",value:f,readOnly:!0})})]}),(0,j.jsxs)(n.Z,{as:c.Z,className:"mb-3",controlId:"formContact",children:[(0,j.jsx)(i.Z,{column:!0,md:4,children:"Contact No."}),(0,j.jsx)(d.Z,{md:8,children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Contact",value:y,readOnly:!0})})]}),(0,j.jsxs)(n.Z,{as:c.Z,className:"mb-3",controlId:"formAddress",children:[(0,j.jsx)(i.Z,{column:!0,md:4,children:"Address"}),(0,j.jsx)(d.Z,{md:8,children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Address",value:N,readOnly:!0})})]}),(0,j.jsx)(c.Z,{className:"justify-content-center align-content-center",children:(0,j.jsx)(h.Z,{onClick:()=>v(!0),className:"col-md-3",id:"but_color",children:"Edit"})})]})})})]})})})})})]}),(0,j.jsxs)(x.Z,{show:_,onHide:()=>v(!1),children:[(0,j.jsx)(x.Z.Header,{closeButton:!0,children:(0,j.jsx)(x.Z.Title,{children:"Edit User Details"})}),(0,j.jsx)(x.Z.Body,{children:(0,j.jsxs)(o.Z,{children:[(0,j.jsx)(n.Z,{className:"mb-3",controlId:"formName",children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Name",value:a,onChange:e=>Z(e.target.value)})}),(0,j.jsx)(n.Z,{className:"mb-3",controlId:"formEmail",children:(0,j.jsx)(m.Z,{type:"email",placeholder:"Email",value:A,onChange:e=>p(e.target.value)})}),(0,j.jsx)(n.Z,{className:"mb-3",controlId:"formPassword",children:(0,j.jsx)(m.Z,{type:"password",placeholder:"Password",value:f,onChange:e=>g(e.target.value)})}),(0,j.jsx)(n.Z,{className:"mb-3",controlId:"formContact",children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Contact",value:y,onChange:e=>b(e.target.value)})}),(0,j.jsx)(n.Z,{className:"mb-3",controlId:"formAddress",children:(0,j.jsx)(m.Z,{type:"text",placeholder:"Address",value:N,onChange:e=>w(e.target.value)})}),(0,j.jsxs)(c.Z,{className:"justify-content-center align-content-center",children:[(0,j.jsx)(h.Z,{onClick:async()=>{try{if(!(await fetch("".concat("http://15.206.84.226:3007/api/users/update_user_details/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:A,password:f,contact:y,address:N,status:"1",role:"1"})})).ok)throw new Error("Failed to update user");E("User updated successfully!"),P(""),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){console.error("Error updating user:",e),P("Failed to update user. Please try again."),E(""),setTimeout((()=>{window.location.reload()}),1e3)}},className:"col-md-3",id:"but_color",children:"Save"}),I&&(0,j.jsx)("div",{className:"text-danger mt-2 text-center",children:I}),C&&(0,j.jsx)("div",{className:"text-success mt-2 text-center",children:C})]})]})})]})]})}},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=7637.e6100649.chunk.js.map