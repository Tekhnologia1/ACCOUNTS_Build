"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3216],{25241:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(65043),r=a(42645),l=a(85049),c=a(61072),o=a(78602),d=a(67006),n=a(1433),i=a(86311),A=a(68155),m=a(70702),h=a(59395),x=(a(20971),a(70579));const u=()=>{const{user:e}=(0,t.useContext)(h.R),s=e.userId,[a,u]=(0,t.useState)(""),[j,p]=(0,t.useState)(""),[f,y]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[w,N]=(0,t.useState)(""),[_,v]=(0,t.useState)(!1),[C,E]=(0,t.useState)(""),[I,P]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://65.0.139.50:3007/api/users/user_details/").concat(s));if(!e.ok)throw new Error("Failed to fetch user details");{const s=(await e.json()).data;u(s.usr_name),p(s.usr_email),y(s.password),b(s.usr_contact),N(s.usr_address)}}catch(e){console.error("Error fetching user details:",e),P("Failed to fetch user details. Please try again.")}})()}),[s]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(r.ay,{}),(0,x.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,x.jsx)(r.DH,{}),(0,x.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(c.A,{className:"justify-content-center mb-3",children:(0,x.jsx)(o.A,{xs:8,children:(0,x.jsxs)("div",{className:"card_border_color_change py-5",style:{borderColor:"white",borderRadius:"10px"},children:[(0,x.jsx)(c.A,{className:"allfirms_title_mainrow",children:(0,x.jsx)(o.A,{xs:9,style:{marginLeft:"10px"},children:(0,x.jsxs)(c.A,{className:"allfirms_title_row py-1 align-items-center",children:[(0,x.jsx)(o.A,{xs:1,children:(0,x.jsx)("img",{src:l,width:25,height:25,alt:"All Firms Logo"})}),(0,x.jsx)(o.A,{xs:4,children:(0,x.jsx)("h4",{children:"My Profile"})})]})})}),(0,x.jsx)(c.A,{className:"allfirms_table_row py-5 justify-content-center",children:(0,x.jsx)(o.A,{xs:12,md:6,children:(0,x.jsxs)(d.A,{children:[(0,x.jsx)(n.A,{className:"mb-3",controlId:"formName",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Name",value:a,readOnly:!0})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formEmail",children:(0,x.jsx)(i.A,{type:"email",placeholder:"Email",value:j,readOnly:!0})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formPassword",children:(0,x.jsx)(i.A,{type:"password",placeholder:"Password",value:f,readOnly:!0})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formContact",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Contact",value:g,readOnly:!0})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formAddress",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Address",value:w,readOnly:!0})}),(0,x.jsx)(c.A,{className:"justify-content-center align-content-center",children:(0,x.jsx)(A.A,{onClick:()=>v(!0),className:"col-md-3",id:"but_color",children:"Edit"})})]})})})]})})})})})]}),(0,x.jsxs)(m.A,{show:_,onHide:()=>v(!1),children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Edit User Details"})}),(0,x.jsx)(m.A.Body,{children:(0,x.jsxs)(d.A,{children:[(0,x.jsx)(n.A,{className:"mb-3",controlId:"formName",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Name",value:a,onChange:e=>u(e.target.value)})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formEmail",children:(0,x.jsx)(i.A,{type:"email",placeholder:"Email",value:j,onChange:e=>p(e.target.value)})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formPassword",children:(0,x.jsx)(i.A,{type:"password",placeholder:"Password",value:f,onChange:e=>y(e.target.value)})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formContact",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Contact",value:g,onChange:e=>b(e.target.value)})}),(0,x.jsx)(n.A,{className:"mb-3",controlId:"formAddress",children:(0,x.jsx)(i.A,{type:"text",placeholder:"Address",value:w,onChange:e=>N(e.target.value)})}),(0,x.jsxs)(c.A,{className:"justify-content-center align-content-center",children:[(0,x.jsx)(A.A,{onClick:async()=>{try{if(!(await fetch("".concat("http://65.0.139.50:3007/api/users/update_user_details/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:j,password:f,contact:g,address:w,status:"1",role:"1"})})).ok)throw new Error("Failed to update user");E("User updated successfully!"),P(""),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){console.error("Error updating user:",e),P("Failed to update user. Please try again."),E(""),setTimeout((()=>{window.location.reload()}),1e3)}},className:"col-md-3",id:"but_color",children:"Save"}),I&&(0,x.jsx)("div",{className:"text-danger mt-2 text-center",children:I}),C&&(0,x.jsx)("div",{className:"text-success mt-2 text-center",children:C})]})]})})]})]})}},85049:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=3216.5d5b65bb.chunk.js.map