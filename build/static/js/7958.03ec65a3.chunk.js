"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7958],{25407:(e,t,s)=>{s.d(t,{Y:()=>a});const a="http://20.235.178.6:3007"},97958:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(72791),r=s(78983),c=s(59565),l=(s(13162),s(33821)),n=s(323),o=s(89743),i=s(2677),d=s(74292),m=s(28282),f=s(62591),h=s(11087),x=s(88898),b=s(25407),j=s(59513),u=s.n(j),p=(s(68639),s(47665)),y=s(80184);const N=()=>{const{user:e}=(0,a.useContext)(x.S),t=e.userId,[s,j]=(0,a.useState)([]),[N,v]=(0,a.useState)(""),[g,_]=(0,a.useState)([]),[A,w]=(0,a.useState)(!1),[Z,F]=(0,a.useState)(null),[k,C]=(0,a.useState)(!0),[E,I]=(0,a.useState)(null),[S,P]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(b.Y,"/api/users/get_all_firms_by_user/").concat(t));if(!e.ok)throw new Error("Failed to fetch firms");const s=await e.json();j(s.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[t]),(0,a.useEffect)((()=>{R()}),[N]),(0,a.useEffect)((()=>{(async()=>{if(N)try{const e=N,t=await fetch("".concat(b.Y,"/api/users/firm_total_bal/").concat(e));if(!t.ok)throw new Error("Failed to fetch total balance");const s=await t.json();F(s.data.totalBalance)}catch(e){console.error("Error fetching total balance:",e)}})()}),[N]);const R=async()=>{if(N){w(!0);try{const e=N;let t="".concat(b.Y,"/api/users/show_payment_transac/").concat(e);if(E){const e=E.toLocaleDateString("en-CA");t+="?startDate=".concat(e)}if(S){const e=new Date(S);e.setDate(e.getDate()+1);const s=e.toLocaleDateString("en-CA");t+=E?"&endDate=".concat(s):"?endDate=".concat(s)}const s=await fetch(t),a=await s.json();if(!s.ok||!1===a.status)return C(!1),void _([]);_(a.data),C(a.data.length>0)}catch(e){console.error("Error fetching transactions:",e),C(!1)}finally{w(!1)}}};return(0,y.jsxs)("div",{children:[(0,y.jsx)(c.gV,{}),(0,y.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,y.jsx)(c.Pm,{}),(0,y.jsx)("div",{className:"body flex-grow-1 px-2",children:(0,y.jsx)(r.rb,{className:"justify-content-center mb-3",children:(0,y.jsx)(r.b7,{md:12,children:(0,y.jsxs)(r.xH,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,y.jsxs)(r.rb,{className:"align-items-center",children:[(0,y.jsx)(r.b7,{style:{marginLeft:"11px"},children:(0,y.jsxs)(r.rb,{className:"allfirms_icon_title_row align-items-center",children:[(0,y.jsx)(r.b7,{className:"col-2 col-md-1",children:(0,y.jsx)("img",{className:"sidebar_icon_color",src:p,width:25,height:25,alt:"All Firms Logo"})}),(0,y.jsx)(r.b7,{className:"col-10 col-md-7",children:(0,y.jsx)("h5",{className:"title_font mb-0",style:{color:"white"},children:"All Payments"})})]})}),(0,y.jsx)(r.b7,{className:"col-6 makepay_allpay_but_col",children:(0,y.jsx)(h.rU,{to:"/make_payment",children:(0,y.jsx)(r.u5,{id:"but_color",className:"m-0",children:"Make Payment"})})})]}),(0,y.jsx)(r.rb,{className:"allfirms_table_row py-5 justify-content-center",children:(0,y.jsxs)(r.b7,{children:[(0,y.jsxs)(r.rb,{className:"justify-content-center mb-3",children:[(0,y.jsx)(r.b7,{className:"justify-content-start justify-content-md-start facc_sel_firm_col",children:(0,y.jsx)(l.Z,{children:(0,y.jsx)(n.Z,{as:o.Z,className:"mb-3",children:(0,y.jsx)(i.Z,{md:11,className:"justify-content-start justify-content-md-start",children:(0,y.jsxs)(d.Z,{as:"select",value:N,className:"form-select",onChange:e=>v(e.target.value),style:{maxWidth:"100%"},children:[(0,y.jsx)("option",{value:"",children:"Select Firm"}),s.map((e=>(0,y.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})})})})}),(0,y.jsx)(r.b7,{className:"d-flex align-items-center justify-content-center justify-content-md-end mt-0 mt-md-0 facc_f_bal",children:null!==Z&&(0,y.jsxs)("div",{style:{backgroundColor:"green",color:"white",padding:"10px",borderRadius:"5px"},children:["Firm Total Balance: ",Z]})})]}),(0,y.jsx)(r.rb,{className:"justify-content-center mb-3",children:(0,y.jsxs)(r.b7,{className:"allpay_datefil_col",children:[(0,y.jsx)(u(),{selected:E,onChange:e=>I(e),selectsStart:!0,startDate:E,endDate:S,placeholderText:"Start Date",className:"form-control allpay_datefil"}),(0,y.jsx)(u(),{selected:S,onChange:e=>P(e),selectsEnd:!0,startDate:E,endDate:S,minDate:E,placeholderText:"End Date",className:"form-control allpay_datefil"}),(0,y.jsx)(r.u5,{onClick:R,id:"fil_but_color",className:"mt-0 allpay_datefil_but",children:"Filter"})]})}),(0,y.jsx)(r.rb,{children:(0,y.jsx)(i.Z,{md:12,children:(0,y.jsx)(l.Z,{children:(0,y.jsxs)(m.Z,{className:"mb-3",children:[(0,y.jsx)(m.Z.Header,{className:"text-white",id:"bg__color",children:"Payment Transactions"}),(0,y.jsx)(m.Z.Body,{children:A?(0,y.jsx)("p",{children:"Loading..."}):k?(0,y.jsxs)(f.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Sr.No"}),(0,y.jsx)("th",{children:"Debit From"}),(0,y.jsx)("th",{children:"Credit To"}),(0,y.jsx)("th",{children:"Dr"}),(0,y.jsx)("th",{children:"Date"}),(0,y.jsx)("th",{children:"Remark"})]})}),(0,y.jsx)("tbody",{children:g.map(((e,t)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:t+1}),(0,y.jsx)("td",{children:e.from_gl_name}),(0,y.jsxs)("td",{children:[e.to_firm_name," - ",e.to_gl_name]}),(0,y.jsxs)("td",{style:{color:"red"},children:["-",e.amount]}),(0,y.jsx)("td",{children:new Date(e.transaction_date).toLocaleString()}),(0,y.jsx)("td",{children:e.remark})]},e.transaction_id)))})]}):(0,y.jsx)("p",{children:"No Transactions for this firm"})})]})})})})]})})]})})})})]})]})}},70783:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=s(52007),n=s.n(l),o=s(80184);const i={type:n().string,tooltip:n().bool,as:n().elementType},d=c.forwardRef(((e,t)=>{let{as:s="div",className:a,type:c="valid",tooltip:l=!1,...n}=e;return(0,o.jsx)(s,{...n,ref:t,className:r()(a,"".concat(c,"-").concat(l?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=i;const m=d},33821:(e,t,s)=>{s.d(t,{Z:()=>T});var a=s(81694),r=s.n(a),c=s(52007),l=s.n(c),n=s(72791),o=s(70783),i=s(96882),d=s(84934),m=s(10162),f=s(80184);const h=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,htmlFor:c,...l}=e;const{controlId:o}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-check-label"),(0,f.jsx)("label",{...l,ref:t,htmlFor:c||o,className:r()(a,s)})}));h.displayName="FormCheckLabel";const x=h;var b=s(11701);const j=n.forwardRef(((e,t)=>{let{id:s,bsPrefix:a,bsSwitchPrefix:c,inline:l=!1,reverse:h=!1,disabled:j=!1,isValid:u=!1,isInvalid:p=!1,feedbackTooltip:y=!1,feedback:N,feedbackType:v,className:g,style:_,title:A="",type:w="checkbox",label:Z,children:F,as:k="input",...C}=e;a=(0,m.vE)(a,"form-check"),c=(0,m.vE)(c,"form-switch");const{controlId:E}=(0,n.useContext)(d.Z),I=(0,n.useMemo)((()=>({controlId:s||E})),[E,s]),S=!F&&null!=Z&&!1!==Z||(0,b.XW)(F,x),P=(0,f.jsx)(i.Z,{...C,type:"switch"===w?"checkbox":w,ref:t,isValid:u,isInvalid:p,disabled:j,as:k});return(0,f.jsx)(d.Z.Provider,{value:I,children:(0,f.jsx)("div",{style:_,className:r()(g,S&&a,l&&"".concat(a,"-inline"),h&&"".concat(a,"-reverse"),"switch"===w&&c),children:F||(0,f.jsxs)(f.Fragment,{children:[P,S&&(0,f.jsx)(x,{title:A,children:Z}),N&&(0,f.jsx)(o.Z,{type:v,tooltip:y,children:N})]})})})}));j.displayName="FormCheck";const u=Object.assign(j,{Input:i.Z,Label:x});var p=s(74292);const y=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:a,as:c="div",...l}=e;return a=(0,m.vE)(a,"form-floating"),(0,f.jsx)(c,{ref:t,className:r()(s,a),...l})}));y.displayName="FormFloating";const N=y;var v=s(323),g=s(53392);const _=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,id:c,...l}=e;const{controlId:o}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-range"),(0,f.jsx)("input",{...l,type:"range",ref:t,className:r()(a,s),id:c||o})}));_.displayName="FormRange";const A=_,w=n.forwardRef(((e,t)=>{let{bsPrefix:s,size:a,htmlSize:c,className:l,isValid:o=!1,isInvalid:i=!1,id:h,...x}=e;const{controlId:b}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-select"),(0,f.jsx)("select",{...x,size:c,ref:t,className:r()(l,s,a&&"".concat(s,"-").concat(a),o&&"is-valid",i&&"is-invalid"),id:h||b})}));w.displayName="FormSelect";const Z=w,F=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,as:c="small",muted:l,...n}=e;return s=(0,m.vE)(s,"form-text"),(0,f.jsx)(c,{...n,ref:t,className:r()(a,s,l&&"text-muted")})}));F.displayName="FormText";const k=F,C=n.forwardRef(((e,t)=>(0,f.jsx)(u,{...e,ref:t,type:"switch"})));C.displayName="Switch";const E=Object.assign(C,{Input:u.Input,Label:u.Label}),I=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,children:c,controlId:l,label:n,...o}=e;return s=(0,m.vE)(s,"form-floating"),(0,f.jsxs)(v.Z,{ref:t,className:r()(a,s),controlId:l,...o,children:[c,(0,f.jsx)("label",{htmlFor:l,children:n})]})}));I.displayName="FloatingLabel";const S=I,P={_ref:l().any,validated:l().bool,as:l().elementType},R=n.forwardRef(((e,t)=>{let{className:s,validated:a,as:c="form",...l}=e;return(0,f.jsx)(c,{...l,ref:t,className:r()(s,a&&"was-validated")})}));R.displayName="Form",R.propTypes=P;const T=Object.assign(R,{Group:v.Z,Control:p.Z,Floating:N,Check:u,Switch:E,Label:g.Z,Text:k,Range:A,Select:Z,FloatingLabel:S})},96882:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(81694),r=s.n(a),c=s(72791),l=s(84934),n=s(10162),o=s(80184);const i=c.forwardRef(((e,t)=>{let{id:s,bsPrefix:a,className:i,type:d="checkbox",isValid:m=!1,isInvalid:f=!1,as:h="input",...x}=e;const{controlId:b}=(0,c.useContext)(l.Z);return a=(0,n.vE)(a,"form-check-input"),(0,o.jsx)(h,{...x,ref:t,type:d,id:s||b,className:r()(i,a,m&&"is-valid",f&&"is-invalid")})}));i.displayName="FormCheckInput";const d=i},84934:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s(72791).createContext({})},74292:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=(s(42391),s(70783)),n=s(84934),o=s(10162),i=s(80184);const d=c.forwardRef(((e,t)=>{let{bsPrefix:s,type:a,size:l,htmlSize:d,id:m,className:f,isValid:h=!1,isInvalid:x=!1,plaintext:b,readOnly:j,as:u="input",...p}=e;const{controlId:y}=(0,c.useContext)(n.Z);return s=(0,o.vE)(s,"form-control"),(0,i.jsx)(u,{...p,type:a,size:d,ref:t,readOnly:j,id:m||y,className:r()(f,b?"".concat(s,"-plaintext"):s,l&&"".concat(s,"-").concat(l),"color"===a&&"".concat(s,"-color"),h&&"is-valid",x&&"is-invalid")})}));d.displayName="FormControl";const m=Object.assign(d,{Feedback:l.Z})},323:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(72791),r=s(84934),c=s(80184);const l=a.forwardRef(((e,t)=>{let{controlId:s,as:l="div",...n}=e;const o=(0,a.useMemo)((()=>({controlId:s})),[s]);return(0,c.jsx)(r.Z.Provider,{value:o,children:(0,c.jsx)(l,{...n,ref:t})})}));l.displayName="FormGroup";const n=l},53392:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=(s(42391),s(2677)),n=s(84934),o=s(10162),i=s(80184);const d=c.forwardRef(((e,t)=>{let{as:s="label",bsPrefix:a,column:d=!1,visuallyHidden:m=!1,className:f,htmlFor:h,...x}=e;const{controlId:b}=(0,c.useContext)(n.Z);a=(0,o.vE)(a,"form-label");let j="col-form-label";"string"===typeof d&&(j="".concat(j," ").concat(j,"-").concat(d));const u=r()(f,a,m&&"visually-hidden",d&&j);return h=h||b,d?(0,i.jsx)(l.Z,{ref:t,as:"label",className:u,htmlFor:h,...x}):(0,i.jsx)(s,{ref:t,className:u,htmlFor:h,...x})}));d.displayName="FormLabel";const m=d},62591:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(81694),r=s.n(a),c=s(72791),l=s(10162),n=s(80184);const o=c.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,striped:c,bordered:o,borderless:i,hover:d,size:m,variant:f,responsive:h,...x}=e;const b=(0,l.vE)(s,"table"),j=r()(a,b,f&&"".concat(b,"-").concat(f),m&&"".concat(b,"-").concat(m),c&&"".concat(b,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),o&&"".concat(b,"-bordered"),i&&"".concat(b,"-borderless"),d&&"".concat(b,"-hover")),u=(0,n.jsx)("table",{...x,className:j,ref:t});if(h){let e="".concat(b,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,n.jsx)("div",{className:e,children:u})}return u}))},42391:e=>{var t=function(){};e.exports=t},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=7958.03ec65a3.chunk.js.map