{"version":3,"file":"static/js/7637.43f49239.chunk.js","mappings":"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","sources":["views/admin/AdminDashboard/Edit_Profile.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AdminHeader, AdminSidebar } from 'src/components';\r\nimport AllFirms_logo from 'src/assets/images/admin_dashboard_icons/AllFirms.png';\r\nimport { Form, FormControl, FormGroup, Row, Col, Button, Modal, FormLabel } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContext } from 'src/context/UserContextProvider';\r\nimport 'src/scss/_custom.scss';\r\n\r\nconst SHOW_USER_DETAILS_API_URL = `http://13.233.194.13:3007/api/users/user_details/`;\r\nconst UPDATE_USER_DETAILS_API_URL = `http://13.233.194.13:3007/api/users/update_user_details/`;\r\n\r\nconst Edit_Profile = () => {\r\n  const { user } = useContext(UserContext);\r\n  const userId = user.userId;\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [contact, setContact] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const status = \"1\"; // Hardcoded status\r\n  const role = \"1\"; // Assuming '2' is the role for the user being added\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  // Fetch user details\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        const response = await fetch(`${SHOW_USER_DETAILS_API_URL}${userId}`);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          const userDetails = data.data;\r\n          setName(userDetails.usr_name);\r\n          setEmail(userDetails.usr_email);\r\n          setPassword(userDetails.password);\r\n          setContact(userDetails.usr_contact);\r\n          setAddress(userDetails.usr_address);\r\n        } else {\r\n          throw new Error('Failed to fetch user details');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user details:', error);\r\n        setErrorMessage('Failed to fetch user details. Please try again.');\r\n      }\r\n    };\r\n\r\n    fetchUserDetails();\r\n  }, [userId]);\r\n\r\n  // Update user details\r\n  const handleUpdateUser = async () => {\r\n    try {\r\n      const response = await fetch(`${UPDATE_USER_DETAILS_API_URL}${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          email,\r\n          password,\r\n          contact,\r\n          address,\r\n          status,\r\n          role\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSuccessMessage('User updated successfully!');\r\n        setErrorMessage('');\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      } else {\r\n        throw new Error('Failed to update user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating user:', error);\r\n      setErrorMessage('Failed to update user. Please try again.');\r\n      setSuccessMessage('');\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AdminSidebar />\r\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-light\">\r\n        <AdminHeader />\r\n        <div className=\"body flex-grow-1 px-3\">\r\n          <>\r\n            <Row className=\"justify-content-center mb-3\">\r\n              <Col xs={8}>\r\n                <div className=\"card_border_color_change py-5\" style={{ borderColor: \"white\", borderRadius: \"10px\" }}>\r\n                  <Row className=\"allfirms_title_mainrow\">\r\n                    <Col xs={11} style={{ marginLeft: \"10px\" }}>\r\n                      <Row className=\"allfirms_title_row py-1 align-items-center\">\r\n                        <Col xs={1}>\r\n                          <img src={AllFirms_logo} width={25} height={25} alt=\"All Firms Logo\" />\r\n                        </Col>\r\n                        <Col xs={4}>\r\n                          <h4>My Profile</h4>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Row className=\"allfirms_table_row py-5 justify-content-center\">\r\n                    <Col xs={12} md={8}>\r\n                      <Form>\r\n\r\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formName\">\r\n                          <FormLabel column md={4}>Name</FormLabel>\r\n                          <Col md={8}>\r\n                            <FormControl\r\n                              type=\"text\"\r\n                              placeholder=\"Name\"\r\n                              value={name}\r\n                              readOnly\r\n                            />\r\n                          </Col>\r\n\r\n                        </FormGroup>\r\n\r\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formEmail\">\r\n                          <FormLabel column md={4}>Email</FormLabel>\r\n                          <Col md={8}>\r\n                            <FormControl\r\n                              type=\"email\"\r\n                              placeholder=\"Email\"\r\n                              value={email}\r\n                              readOnly\r\n                            />\r\n                          </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formPassword\">\r\n                          <FormLabel column md={4}>Password</FormLabel>\r\n                          <Col md={8}>\r\n                            <FormControl\r\n                              type=\"password\"\r\n                              placeholder=\"*****************\"\r\n                              value={password}\r\n                              readOnly\r\n                            />\r\n                          </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formContact\">\r\n                          <FormLabel column md={4}>Contact No.</FormLabel>\r\n                          <Col md={8}>\r\n                            <FormControl\r\n                              type=\"text\"\r\n                              placeholder=\"Contact\"\r\n                              value={contact}\r\n                              readOnly\r\n                            />\r\n                          </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formAddress\">\r\n                          <FormLabel column md={4}>Address</FormLabel>\r\n                          <Col md={8}>\r\n                            <FormControl\r\n                              type=\"text\"\r\n                              placeholder=\"Address\"\r\n                              value={address}\r\n                              readOnly\r\n                            />\r\n                          </Col>\r\n                        </FormGroup>\r\n\r\n                        <Row className=\"justify-content-center align-content-center\">\r\n                          <Button onClick={() => setShowModal(true)} className='col-md-3' id='but_color'>Edit</Button>\r\n                        </Row>\r\n                      </Form>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        </div>\r\n      </div>\r\n\r\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit User Details</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <FormGroup className=\"mb-3\" controlId=\"formName\">\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup className=\"mb-3\" controlId=\"formEmail\">\r\n              <FormControl\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup className=\"mb-3\" controlId=\"formPassword\">\r\n              <FormControl\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup className=\"mb-3\" controlId=\"formContact\">\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Contact\"\r\n                value={contact}\r\n                onChange={(e) => setContact(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup className=\"mb-3\" controlId=\"formAddress\">\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Address\"\r\n                value={address}\r\n                onChange={(e) => setAddress(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <Row className=\"justify-content-center align-content-center\">\r\n              <Button onClick={handleUpdateUser} className='col-md-3' id='but_color'>Save</Button>\r\n              {errorMessage && <div className=\"text-danger mt-2 text-center\">{errorMessage}</div>}\r\n              {successMessage && <div className=\"text-success mt-2 text-center\">{successMessage}</div>}\r\n            </Row>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit_Profile;\r\n"],"names":["Edit_Profile","user","useContext","UserContext","userId","name","setName","useState","email","setEmail","password","setPassword","contact","setContact","address","setAddress","showModal","setShowModal","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","async","response","fetch","concat","ok","Error","userDetails","json","data","usr_name","usr_email","usr_contact","usr_address","error","console","fetchUserDetails","_jsxs","children","_jsx","AdminSidebar","className","AdminHeader","_Fragment","Row","Col","xs","style","borderColor","borderRadius","marginLeft","src","AllFirms_logo","width","height","alt","md","Form","FormGroup","as","controlId","FormLabel","column","FormControl","type","placeholder","value","readOnly","Button","onClick","id","Modal","show","onHide","Header","closeButton","Title","Body","onChange","e","target","method","headers","body","JSON","stringify","status","role","setTimeout","window","location","reload"],"sourceRoot":""}