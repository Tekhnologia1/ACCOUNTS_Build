{"version":3,"file":"static/js/765.ada9366a.chunk.js","mappings":"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","sources":["api/APIRegister.js","api/APIURL.js","auth/AuthUser.js","../node_modules/jwt-decode/build/esm/index.js","views/pages/login/Login.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\n\n\nimport { api_url } from 'src/api/APIURL';\n\n\n\nconst APIRegister = () => {\n\n  //User_Reg\n  const REGISTER = async (data) => {\n    try {\n      const response = await axios.post(`${api_url}/api/users/register`, data);\n      return response.data;\n    } catch (error) {\n      console.log('Error registering:', error);\n      throw error;\n    }\n  };\n\n  // User_Login\n  const LOGIN = async (data) => {\n    try {\n      const response = await axios.post(`${api_url}/api/users/login`, data);\n      return response.data;\n    } catch (error) {\n      console.log('Invalid credentials:', error);\n      throw error;\n    }\n  };\n\n  // //User_Reset_Pass\n  // const RESET_PASS = async (data) => {\n  //   try {\n  //     const response = await axios.post(`${api_url}/Reset_Password/${data.mobileNo}`, { newPassword: data.newPassword });\n  //     return response.data;\n  //   } catch (error) {\n  //     console.log(\"Can't reset password:\", error);\n  //     throw error;\n  //   }\n  // };\n\n\n  // //Fill_ORG_Details\n  // // http://192.168.1.69:3002/Add_Institute/231     :userId\n  // const ORG_DETAILS = async (userId, data) => {\n  //   try {\n  //     const response = await axios.post(`${api_url}/Add_Institute/${userId}`, data);\n  //     return response.data;\n  //   } catch (error) {\n  //     console.log(\"Unable to add details\", error);\n  //     throw error;\n  //   }\n  // };\n\n\n  // //ADD_SCHOOL_OR_BRANCH\n  // // http://192.168.1.69:3002/Add_Branch/231/4    :userId/instituteId\n  // const ADD_SCHOOL_OR_BRANCH = async (userId, instituteId, data) => {\n  //   try {\n  //     const response = await axios.post(`${api_url}/Add_Branch/${userId}/${instituteId}`, data);\n  //     return response.data;\n  //   } catch (error) {\n  //     console.log(\"Unable to add branch:\", error);\n  //     throw error;\n  //   }\n  // };\n\n\n\n  // //REG_SCHOOL_OR_BRANCH-------//Add School details by Principal\n  // // http://192.168.1.69:3002/Register_Branch/2     :userId\n  // const REG_SCHOOL_OR_BRANCH = async (userId, data) => {\n  //   try {\n  //     const response = await axios.post(`${api_url}/Register_Branch/${userId}`, data);\n\n  //     return response.data;\n  //   } catch (error) {\n  //     console.log(\"Unable to add details:\", error);\n  //     throw error;\n  //   }\n  // };\n\n\n  // //Add_Individual_Personal_Details\n  // // http://192.168.1.69:3002/Add_Info_Indivisual/249   :userId\n  // const ADD_INDIV_PERSO = async (userId, data) => {\n  //   try {\n  //     const response = await axios.post(`${api_url}/Add_Info_Indivisual/${userId}`, data);\n  //     return response.data;\n  //   } catch (error) {\n  //     console.log(\"Unable to add details:\", error);\n  //     throw error;\n  //   }\n  // };\n\n  return { REGISTER, LOGIN };\n}\n\nexport { APIRegister };","export const api_url = 'http://13.233.105.76:3007';","\r\n\r\nimport axios from 'axios';\r\n\r\nconst http = axios.create({\r\n  // baseURL: 'http://192.168.1.1:3005',\r\n  baseURL: 'http://192.168.1.69:3002',\r\n});\r\n\r\nclass Auth {\r\n  static isAuthenticated() {\r\n    const token = localStorage.getItem('token');\r\n    return token !== null;\r\n  }\r\n\r\n  // static getUserRole() {\r\n  //   return localStorage.getItem('userRole');\r\n  // }\r\n\r\n  // static getUserId() {\r\n  //   return localStorage.getItem('userId');\r\n  // }\r\n\r\n  // static getSchoolIds() {\r\n  //   return localStorage.getItem('schoolId');\r\n  // }\r\n\r\n  static login(token) {\r\n    localStorage.setItem('token', token);\r\n    // localStorage.setItem('userRole', userRole);\r\n    // localStorage.setItem('userId', userId);\r\n  }\r\n\r\n  static logout() {\r\n    localStorage.removeItem('token');\r\n    // localStorage.removeItem('userRole');\r\n  }\r\n\r\n  static getUserData() {\r\n    return localStorage.getItem('user');\r\n  }\r\n}\r\n\r\nexport { Auth, http };\r\n\r\n","export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","// login.js\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport {\n  Button,\n  Card,\n  Col,\n  Container,\n  Form,\n  Image,\n  Row,\n  InputGroup\n} from 'react-bootstrap';\nimport google from '../../../assets/icons/google.png';\nimport facebook from '../../../assets/icons/facebook.png';\nimport mail from '../../../assets/icons/mail.png';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Auth, http } from 'src/auth/AuthUser';\nimport { APIRegister } from 'src/api/APIRegister';\nimport { jwtDecode } from 'jwt-decode';\nimport { UserContext } from 'src/context/UserContextProvider';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Login = () => {\n  const { user, setUser } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    console.log(user.userId); // Log userId whenever user state changes\n  }, [user]);\n\n  const login = () => {\n    APIRegister().LOGIN({\n      email: email,\n      password: password,\n    }).then((response) => {\n      console.log(response);\n      const token = response.data.token;\n      console.log(response);\n      const userdata = jwtDecode(token);\n      console.log(userdata);\n\n      setUser(prevState => ({\n        ...prevState,\n        userId: userdata.userId,\n        email: userdata.email,\n        role: userdata.role\n      }));\n\n      setSuccessMessage('Logged in successfully!');\n      Auth.login(token);\n\n      if (userdata.role === 'firm_user') {\n        navigate('/firm_user_dash');\n      } else {\n        navigate('/super_admin_dash');\n      }\n    }).catch((error) => {\n      console.error(\"Invalid credentials:\", error);\n      setErrorMessage('Invalid credentials. Register yourself.');\n    });\n  };\n\n  return (\n    <Container className=\"d-flex justify-content-center mt-5\">\n      <Row className=\"w-100\">\n        <Col md={5} className=\"mx-auto\">\n          <Card className='p-5' id='card_border_color_change'>\n            <Form className=\"row g-3 needs-validation\" noValidate>\n              <h1 className='text-center defaultcolor'>Log In</h1>\n              <InputGroup className=\"mb-2\">\n                <Form.Control\n                  className='input_fields'\n                  onChange={(e) => setEmail(e.target.value)}\n                  style={{ borderRadius: '8px' }}\n                  type=\"email\"\n                  placeholder='Email address'\n                />\n              </InputGroup>\n              <InputGroup className=\"mb-4\">\n                <Form.Control\n                  className='input_fields'\n                  onChange={(e) => setPassword(e.target.value)}\n                  style={{ borderRadius: '8px' }}\n                  type=\"password\"\n                  placeholder='Password'\n                />\n              </InputGroup>\n              <Row>\n                <Col xs={12} className='text-center'>\n                  <Button onClick={login} className=\"px-4\" id='but_color' type='button'>\n                    Log in\n                  </Button>\n                  {errorMessage && <div className=\"text-danger\">{errorMessage}</div>}\n                  {successMessage && <div className=\"text-success\">{successMessage}</div>}\n                </Col>\n              </Row>\n              <Row className=\"mt-3\">\n                <Col className=\"text-center\">\n                  <Link to={'/signup'}>\n                    <Button className=\"px-4\" id='but_color'>\n                      New User ? Signup\n                    </Button>\n                  </Link>\n\n                </Col>\n              </Row>\n              <br />\n            </Form>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"names":["APIRegister","REGISTER","async","axios","post","concat","api_url","data","error","console","log","LOGIN","create","baseURL","Auth","isAuthenticated","localStorage","getItem","login","token","setItem","logout","removeItem","getUserData","InvalidTokenError","Error","base64UrlDecode","str","output","replace","length","decodeURIComponent","atob","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","prototype","name","Login","user","setUser","useContext","UserContext","navigate","useNavigate","email","setEmail","useState","password","setPassword","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","userId","_jsx","Container","className","children","Row","Col","md","Card","id","_jsxs","Form","noValidate","InputGroup","Control","onChange","e","target","value","style","borderRadius","type","placeholder","xs","Button","onClick","then","response","userdata","options","pos","header","part","split","decoded","message","JSON","parse","jwtDecode","prevState","role","catch","Link","to"],"sourceRoot":""}