{"version":3,"file":"static/js/2352.4d46848e.chunk.js","mappings":"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","sources":["views/admin/AdminDashboard/Edit_Profile.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { AdminHeader, AdminSidebar } from 'src/components';\nimport AllFirms_logo from 'src/assets/images/admin_dashboard_icons/AllFirms.png';\nimport { Form, FormControl, FormGroup, Row, Col, Button, Modal, FormLabel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from 'src/context/UserContextProvider';\nimport 'src/scss/_custom.scss';\n\nconst SHOW_USER_DETAILS_API_URL = `http://65.0.139.50:3007/api/users/user_details/`;\nconst UPDATE_USER_DETAILS_API_URL = `http://65.0.139.50:3007/api/users/update_user_details/`;\n\nconst Edit_Profile = () => {\n  const { user } = useContext(UserContext);\n  const userId = user.userId;\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [contact, setContact] = useState('');\n  const [address, setAddress] = useState('');\n  const status = \"1\"; // Hardcoded status\n  const role = \"1\"; // Assuming '2' is the role for the user being added\n  const [showModal, setShowModal] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  // Fetch user details\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      try {\n        const response = await fetch(`${SHOW_USER_DETAILS_API_URL}${userId}`);\n        if (response.ok) {\n          const data = await response.json();\n          const userDetails = data.data;\n          setName(userDetails.usr_name);\n          setEmail(userDetails.usr_email);\n          setPassword(userDetails.password);\n          setContact(userDetails.usr_contact);\n          setAddress(userDetails.usr_address);\n        } else {\n          throw new Error('Failed to fetch user details');\n        }\n      } catch (error) {\n        console.error('Error fetching user details:', error);\n        setErrorMessage('Failed to fetch user details. Please try again.');\n      }\n    };\n\n    fetchUserDetails();\n  }, [userId]);\n\n  // Update user details\n  const handleUpdateUser = async () => {\n    try {\n      const response = await fetch(`${UPDATE_USER_DETAILS_API_URL}${userId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          contact,\n          address,\n          status,\n          role\n        }),\n      });\n\n      if (response.ok) {\n        setSuccessMessage('User updated successfully!');\n        setErrorMessage('');\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      } else {\n        throw new Error('Failed to update user');\n      }\n    } catch (error) {\n      console.error('Error updating user:', error);\n      setErrorMessage('Failed to update user. Please try again.');\n      setSuccessMessage('');\n      setTimeout(() => {\n        window.location.reload();\n      }, 1000);\n    }\n  };\n\n  return (\n    <div>\n      <AdminSidebar />\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-light\">\n        <AdminHeader />\n        <div className=\"body flex-grow-1 px-3\">\n          <>\n            <Row className=\"justify-content-center mb-3\">\n              <Col xs={8}>\n                <div className=\"card_border_color_change py-5\" style={{ borderColor: \"white\", borderRadius: \"10px\" }}>\n                  <Row className=\"allfirms_title_mainrow\">\n                    <Col xs={11} style={{ marginLeft: \"10px\" }}>\n                      <Row className=\"allfirms_title_row py-1 align-items-center\">\n                        <Col xs={1}>\n                          <img src={AllFirms_logo} width={25} height={25} alt=\"All Firms Logo\" />\n                        </Col>\n                        <Col xs={4}>\n                          <h4>My Profile</h4>\n                        </Col>\n                      </Row>\n                    </Col>\n                  </Row>\n\n                  <Row className=\"allfirms_table_row py-5 justify-content-center\">\n                    <Col xs={12} md={8}>\n                      <Form>\n\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formName\">\n                          <FormLabel column md={4}>Name</FormLabel>\n                          <Col md={8}>\n                            <FormControl\n                              type=\"text\"\n                              placeholder=\"Name\"\n                              value={name}\n                              readOnly\n                            />\n                          </Col>\n\n                        </FormGroup>\n\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formEmail\">\n                          <FormLabel column md={4}>Email</FormLabel>\n                          <Col md={8}>\n                            <FormControl\n                              type=\"email\"\n                              placeholder=\"Email\"\n                              value={email}\n                              readOnly\n                            />\n                          </Col>\n                        </FormGroup>\n\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formPassword\">\n                          <FormLabel column md={4}>Password</FormLabel>\n                          <Col md={8}>\n                            <FormControl\n                              type=\"password\"\n                              placeholder=\"*****************\"\n                              value={password}\n                              readOnly\n                            />\n                          </Col>\n                        </FormGroup>\n\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formContact\">\n                          <FormLabel column md={4}>Contact No.</FormLabel>\n                          <Col md={8}>\n                            <FormControl\n                              type=\"text\"\n                              placeholder=\"Contact\"\n                              value={contact}\n                              readOnly\n                            />\n                          </Col>\n                        </FormGroup>\n\n                        <FormGroup as={Row} className=\"mb-3\" controlId=\"formAddress\">\n                          <FormLabel column md={4}>Address</FormLabel>\n                          <Col md={8}>\n                            <FormControl\n                              type=\"text\"\n                              placeholder=\"Address\"\n                              value={address}\n                              readOnly\n                            />\n                          </Col>\n                        </FormGroup>\n\n                        <Row className=\"justify-content-center align-content-center\">\n                          <Button onClick={() => setShowModal(true)} className='col-md-3' id='but_color'>Edit</Button>\n                        </Row>\n                      </Form>\n                    </Col>\n                  </Row>\n                </div>\n              </Col>\n            </Row>\n          </>\n        </div>\n      </div>\n\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>Edit User Details</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form>\n            <FormGroup className=\"mb-3\" controlId=\"formName\">\n              <FormControl\n                type=\"text\"\n                placeholder=\"Name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </FormGroup>\n\n            <FormGroup className=\"mb-3\" controlId=\"formEmail\">\n              <FormControl\n                type=\"email\"\n                placeholder=\"Email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </FormGroup>\n\n            <FormGroup className=\"mb-3\" controlId=\"formPassword\">\n              <FormControl\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </FormGroup>\n\n            <FormGroup className=\"mb-3\" controlId=\"formContact\">\n              <FormControl\n                type=\"text\"\n                placeholder=\"Contact\"\n                value={contact}\n                onChange={(e) => setContact(e.target.value)}\n              />\n            </FormGroup>\n\n            <FormGroup className=\"mb-3\" controlId=\"formAddress\">\n              <FormControl\n                type=\"text\"\n                placeholder=\"Address\"\n                value={address}\n                onChange={(e) => setAddress(e.target.value)}\n              />\n            </FormGroup>\n\n            <Row className=\"justify-content-center align-content-center\">\n              <Button onClick={handleUpdateUser} className='col-md-3' id='but_color'>Save</Button>\n              {errorMessage && <div className=\"text-danger mt-2 text-center\">{errorMessage}</div>}\n              {successMessage && <div className=\"text-success mt-2 text-center\">{successMessage}</div>}\n            </Row>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Edit_Profile;\n"],"names":["Edit_Profile","user","useContext","UserContext","userId","name","setName","useState","email","setEmail","password","setPassword","contact","setContact","address","setAddress","showModal","setShowModal","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","async","response","fetch","concat","ok","Error","userDetails","json","data","usr_name","usr_email","usr_contact","usr_address","error","console","fetchUserDetails","_jsxs","children","_jsx","AdminSidebar","className","AdminHeader","_Fragment","Row","Col","xs","style","borderColor","borderRadius","marginLeft","src","AllFirms_logo","width","height","alt","md","Form","FormGroup","as","controlId","FormLabel","column","FormControl","type","placeholder","value","readOnly","Button","onClick","id","Modal","show","onHide","Header","closeButton","Title","Body","onChange","e","target","method","headers","body","JSON","stringify","status","role","setTimeout","window","location","reload"],"sourceRoot":""}