"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2352],{85897:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var t=a(65043),r=a(42645),l=a(85049),c=a(61072),d=a(78602),o=a(67006),n=a(1433),i=a(42780),A=a(86311),m=a(68155),h=a(70702),x=a(59395),u=(a(20971),a(70579));const j=()=>{const{user:e}=(0,t.useContext)(x.R),s=e.userId,[a,j]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[y,g]=(0,t.useState)(""),[b,N]=(0,t.useState)(""),[w,_]=(0,t.useState)(""),[v,C]=(0,t.useState)(!1),[E,I]=(0,t.useState)(""),[P,S]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://65.0.139.50:3007/api/users/user_details/").concat(s));if(!e.ok)throw new Error("Failed to fetch user details");{const s=(await e.json()).data;j(s.usr_name),f(s.usr_email),g(s.password),N(s.usr_contact),_(s.usr_address)}}catch(e){console.error("Error fetching user details:",e),S("Failed to fetch user details. Please try again.")}})()}),[s]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(r.ay,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,u.jsx)(r.DH,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.A,{className:"justify-content-center mb-3",children:(0,u.jsx)(d.A,{xs:8,children:(0,u.jsxs)("div",{className:"card_border_color_change py-5",style:{borderColor:"white",borderRadius:"10px"},children:[(0,u.jsx)(c.A,{className:"allfirms_title_mainrow",children:(0,u.jsx)(d.A,{xs:11,style:{marginLeft:"10px"},children:(0,u.jsxs)(c.A,{className:"allfirms_title_row py-1 align-items-center",children:[(0,u.jsx)(d.A,{xs:1,children:(0,u.jsx)("img",{src:l,width:25,height:25,alt:"All Firms Logo"})}),(0,u.jsx)(d.A,{xs:4,children:(0,u.jsx)("h4",{children:"My Profile"})})]})})}),(0,u.jsx)(c.A,{className:"allfirms_table_row py-5 justify-content-center",children:(0,u.jsx)(d.A,{xs:12,md:8,children:(0,u.jsxs)(o.A,{children:[(0,u.jsxs)(n.A,{as:c.A,className:"mb-3",controlId:"formName",children:[(0,u.jsx)(i.A,{column:!0,md:4,children:"Name"}),(0,u.jsx)(d.A,{md:8,children:(0,u.jsx)(A.A,{type:"text",placeholder:"Name",value:a,readOnly:!0})})]}),(0,u.jsxs)(n.A,{as:c.A,className:"mb-3",controlId:"formEmail",children:[(0,u.jsx)(i.A,{column:!0,md:4,children:"Email"}),(0,u.jsx)(d.A,{md:8,children:(0,u.jsx)(A.A,{type:"email",placeholder:"Email",value:p,readOnly:!0})})]}),(0,u.jsxs)(n.A,{as:c.A,className:"mb-3",controlId:"formPassword",children:[(0,u.jsx)(i.A,{column:!0,md:4,children:"Password"}),(0,u.jsx)(d.A,{md:8,children:(0,u.jsx)(A.A,{type:"password",placeholder:"*****************",value:y,readOnly:!0})})]}),(0,u.jsxs)(n.A,{as:c.A,className:"mb-3",controlId:"formContact",children:[(0,u.jsx)(i.A,{column:!0,md:4,children:"Contact No."}),(0,u.jsx)(d.A,{md:8,children:(0,u.jsx)(A.A,{type:"text",placeholder:"Contact",value:b,readOnly:!0})})]}),(0,u.jsxs)(n.A,{as:c.A,className:"mb-3",controlId:"formAddress",children:[(0,u.jsx)(i.A,{column:!0,md:4,children:"Address"}),(0,u.jsx)(d.A,{md:8,children:(0,u.jsx)(A.A,{type:"text",placeholder:"Address",value:w,readOnly:!0})})]}),(0,u.jsx)(c.A,{className:"justify-content-center align-content-center",children:(0,u.jsx)(m.A,{onClick:()=>C(!0),className:"col-md-3",id:"but_color",children:"Edit"})})]})})})]})})})})})]}),(0,u.jsxs)(h.A,{show:v,onHide:()=>C(!1),children:[(0,u.jsx)(h.A.Header,{closeButton:!0,children:(0,u.jsx)(h.A.Title,{children:"Edit User Details"})}),(0,u.jsx)(h.A.Body,{children:(0,u.jsxs)(o.A,{children:[(0,u.jsx)(n.A,{className:"mb-3",controlId:"formName",children:(0,u.jsx)(A.A,{type:"text",placeholder:"Name",value:a,onChange:e=>j(e.target.value)})}),(0,u.jsx)(n.A,{className:"mb-3",controlId:"formEmail",children:(0,u.jsx)(A.A,{type:"email",placeholder:"Email",value:p,onChange:e=>f(e.target.value)})}),(0,u.jsx)(n.A,{className:"mb-3",controlId:"formPassword",children:(0,u.jsx)(A.A,{type:"password",placeholder:"Password",value:y,onChange:e=>g(e.target.value)})}),(0,u.jsx)(n.A,{className:"mb-3",controlId:"formContact",children:(0,u.jsx)(A.A,{type:"text",placeholder:"Contact",value:b,onChange:e=>N(e.target.value)})}),(0,u.jsx)(n.A,{className:"mb-3",controlId:"formAddress",children:(0,u.jsx)(A.A,{type:"text",placeholder:"Address",value:w,onChange:e=>_(e.target.value)})}),(0,u.jsxs)(c.A,{className:"justify-content-center align-content-center",children:[(0,u.jsx)(m.A,{onClick:async()=>{try{if(!(await fetch("".concat("http://65.0.139.50:3007/api/users/update_user_details/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:p,password:y,contact:b,address:w,status:"1",role:"1"})})).ok)throw new Error("Failed to update user");I("User updated successfully!"),S(""),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){console.error("Error updating user:",e),S("Failed to update user. Please try again."),I(""),setTimeout((()=>{window.location.reload()}),1e3)}},className:"col-md-3",id:"but_color",children:"Save"}),P&&(0,u.jsx)("div",{className:"text-danger mt-2 text-center",children:P}),E&&(0,u.jsx)("div",{className:"text-success mt-2 text-center",children:E})]})]})})]})]})}},85049:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=2352.4d46848e.chunk.js.map