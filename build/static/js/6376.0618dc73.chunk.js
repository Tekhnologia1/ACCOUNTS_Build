"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6376],{46973:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var t=a(72791),r=a(35109),l=a(13162),c=a(89743),o=a(2677),d=a(33821),n=a(323),i=a(74292),m=a(16157),h=a(34782),x=a(88898),u=(a(67135),a(80184));const j=()=>{const{user:e}=(0,t.useContext)(x.S),s=e.userId,[a,j]=(0,t.useState)(""),[p,A]=(0,t.useState)(""),[Z,f]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[N,_]=(0,t.useState)(!1),[v,C]=(0,t.useState)(""),[E,I]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://13.233.194.13:3007/api/users/user_details/").concat(s));if(!e.ok)throw new Error("Failed to fetch user details");{const s=(await e.json()).data;j(s.usr_name),A(s.usr_email),f(s.password),y(s.usr_contact),w(s.usr_address)}}catch(e){console.error("Error fetching user details:",e),I("Failed to fetch user details. Please try again.")}})()}),[s]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(r.gV,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,u.jsx)(r.Pm,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{className:"justify-content-center mb-3",children:(0,u.jsx)(o.Z,{xs:8,children:(0,u.jsxs)("div",{className:"card_border_color_change py-5",style:{borderColor:"white",borderRadius:"10px"},children:[(0,u.jsx)(c.Z,{className:"allfirms_title_mainrow",children:(0,u.jsx)(o.Z,{xs:9,style:{marginLeft:"10px"},children:(0,u.jsxs)(c.Z,{className:"allfirms_title_row py-1 align-items-center",children:[(0,u.jsx)(o.Z,{xs:1,children:(0,u.jsx)("img",{src:l,width:25,height:25,alt:"All Firms Logo"})}),(0,u.jsx)(o.Z,{xs:4,children:(0,u.jsx)("h4",{children:"My Profile"})})]})})}),(0,u.jsx)(c.Z,{className:"allfirms_table_row py-5 justify-content-center",children:(0,u.jsx)(o.Z,{xs:12,md:6,children:(0,u.jsxs)(d.Z,{children:[(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formName",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Name",value:a,readOnly:!0})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formEmail",children:(0,u.jsx)(i.Z,{type:"email",placeholder:"Email",value:p,readOnly:!0})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formPassword",children:(0,u.jsx)(i.Z,{type:"password",placeholder:"Password",value:Z,readOnly:!0})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formContact",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Contact",value:g,readOnly:!0})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formAddress",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Address",value:b,readOnly:!0})}),(0,u.jsx)(c.Z,{className:"justify-content-center align-content-center",children:(0,u.jsx)(m.Z,{onClick:()=>_(!0),className:"col-md-3",id:"but_color",children:"Edit"})})]})})})]})})})})})]}),(0,u.jsxs)(h.Z,{show:N,onHide:()=>_(!1),children:[(0,u.jsx)(h.Z.Header,{closeButton:!0,children:(0,u.jsx)(h.Z.Title,{children:"Edit User Details"})}),(0,u.jsx)(h.Z.Body,{children:(0,u.jsxs)(d.Z,{children:[(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formName",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Name",value:a,onChange:e=>j(e.target.value)})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formEmail",children:(0,u.jsx)(i.Z,{type:"email",placeholder:"Email",value:p,onChange:e=>A(e.target.value)})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formPassword",children:(0,u.jsx)(i.Z,{type:"password",placeholder:"Password",value:Z,onChange:e=>f(e.target.value)})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formContact",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Contact",value:g,onChange:e=>y(e.target.value)})}),(0,u.jsx)(n.Z,{className:"mb-3",controlId:"formAddress",children:(0,u.jsx)(i.Z,{type:"text",placeholder:"Address",value:b,onChange:e=>w(e.target.value)})}),(0,u.jsxs)(c.Z,{className:"justify-content-center align-content-center",children:[(0,u.jsx)(m.Z,{onClick:async()=>{try{if(!(await fetch("".concat("http://13.233.194.13:3007/api/users/update_user_details/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:p,password:Z,contact:g,address:b,status:"1",role:"1"})})).ok)throw new Error("Failed to update user");C("User updated successfully!"),I(""),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){console.error("Error updating user:",e),I("Failed to update user. Please try again."),C(""),setTimeout((()=>{window.location.reload()}),1e3)}},className:"col-md-3",id:"but_color",children:"Save"}),E&&(0,u.jsx)("div",{className:"text-danger mt-2 text-center",children:E}),v&&(0,u.jsx)("div",{className:"text-success mt-2 text-center",children:v})]})]})})]})]})}},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=6376.0618dc73.chunk.js.map