{"version":3,"file":"static/js/6735.7fe55198.chunk.js","mappings":"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","sources":["views/admin/Users/All_Users.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport AllFirms_logo from 'src/assets/images/admin_dashboard_icons/AllFirms.png';\nimport {\n  CButton, CCard, CCol, CImage, CRow, CTable, CTableBody, CTableDataCell,\n  CTableHead, CTableHeaderCell, CTableRow, CModal, CModalBody, CModalFooter,\n  CModalHeader, CModalTitle, CForm, CFormLabel, CFormInput, CFormSelect\n} from '@coreui/react';\nimport { AdminHeader, AdminSidebar } from 'src/components';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport { UserContext } from 'src/context/UserContextProvider';\n\nconst USERS_ADDED_BY_USER_API_URL = userId => `http://13.126.48.224:3007/api/users/users_added_by_user/${userId}`;\nconst TOTAL_BALANCE_OF_USER_API_URL = userId => `http://13.126.48.224:3007/api/users/total_bal_of_all_firms/${userId}`;\nconst USER_DETAILS_API_URL = user_id => `http://13.126.48.224:3007/api/users/user_details/${user_id}`;\nconst UPDATE_USER_DETAILS_API_URL = user_id => `http://13.126.48.224:3007/api/users/update_user_details/${user_id}`;\nconst UPDATE_FIRM_USER_API_URL = uf_id => `http://13.126.48.224:3007/api/users/update_firm_user/${uf_id}`;\nconst DELETE_FIRM_USER_API_URL = uf_id => `http://13.126.48.224:3007/api/users/delete_firm_user/${uf_id}`;\n\nconst All_Users = () => {\n  const { user } = useContext(UserContext);\n  const userId = user.userId;\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [deleteModalVisible, setDeleteModalVisible] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    contact: '',\n    address: '',\n    status: '',\n    role: '',\n    firmId: ''\n  });\n\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch(USERS_ADDED_BY_USER_API_URL(userId));\n      if (response.ok) {\n        const data = await response.json();\n        const usersWithBalance = await Promise.all(data.data.map(async (user) => {\n          const balanceResponse = await fetch(TOTAL_BALANCE_OF_USER_API_URL(user.user_id));\n          const balanceData = await balanceResponse.json();\n          return { ...user, currbal: balanceData.data };\n        }));\n        setUsers(usersWithBalance);\n      } else {\n        console.error('Failed to fetch users');\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n    if (!modalVisible) {\n      setSuccessMessage('');\n      setErrorMessage('');\n    }\n  }, [userId, modalVisible]);\n\n  const fetchUserDetails = async (user) => {\n    console.log(\"Fetching user details for:\", user);\n    try {\n      const response = await fetch(USER_DETAILS_API_URL(user.user_id));\n      if (response.ok) {\n        const data = await response.json();\n        console.log(\"User details:\", data);\n        setFormData({\n          name: data.data.usr_name,\n          email: data.data.usr_email,\n          password: '',\n          contact: data.data.usr_contact || '',\n          address: data.data.usr_address,\n          status: data.data.usr_status === 'Active' ? '1' : '0',\n          role: data.data.usr_role,\n          firmId: user.firm_name\n        });\n        setSelectedUser(user);\n        setModalVisible(true);\n      } else {\n        console.error('Failed to fetch user details');\n      }\n    } catch (error) {\n      console.error('Error fetching user details:', error);\n    }\n  };\n\n  const handleUpdate = async () => {\n    try {\n      const updateUserResponse = await fetch(UPDATE_USER_DETAILS_API_URL(selectedUser.user_id), {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: formData.name,\n          email: formData.email,\n          password: formData.password,\n          contact: formData.contact,\n          address: formData.address,\n          status: '1',\n          role: '2'\n        })\n      });\n      const updateUserResdata = await updateUserResponse.json();\n      console.log('Update user: ', updateUserResdata);\n      const updateFirmResponse = await fetch(UPDATE_FIRM_USER_API_URL(selectedUser.uf_id), {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ user_id: selectedUser.user_id, firm_id: formData.firmId })\n      });\n      const updateFirmResdata = await updateFirmResponse.json();\n      console.log('Update userFirm: ', updateFirmResdata);\n      if (updateUserResponse.ok && updateFirmResponse.ok) {\n        setSuccessMessage('User details updated successfully !!');\n\n\n        setModalVisible(false);\n        setLoading(true);\n        fetchUsers();\n      } else {\n        setErrorMessage('Something went wrong !!');\n\n        console.error('Failed to update user details or firm');\n      }\n    } catch (error) {\n      console.error('Error updating user details or firm:', error);\n    }\n  };\n\n  const handleDeleteModalOpen = (user) => {\n    setSelectedUser(user);\n    setDeleteModalVisible(true);\n  };\n\n  const handleDelete = async () => {\n    try {\n      const response = await fetch(DELETE_FIRM_USER_API_URL(selectedUser.uf_id), {\n        method: 'DELETE'\n      });\n\n      if (response.ok) {\n        // setSuccessMessage('User deleted successfully !!');\n        setDeleteModalVisible(false);\n        setLoading(true);\n        fetchUsers();\n      } else {\n        setErrorMessage('Failed to delete user !!');\n        console.error('Failed to delete user');\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n    }\n  };\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n\n  return (\n    <div>\n      <AdminSidebar />\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-light\">\n        <AdminHeader />\n        <div className=\"body flex-grow-1 px-3 px-md-2\">\n          <>\n            <CRow className='justify-content-center mb-3'>\n              <CCol className='col-md-12'>\n                <CCard className='card_border_color_change py-5' style={{ borderColor: \"white\" }}>\n                  <CRow className='allfirms_title_mainrow'>\n                    <CCol className='col-md-9' style={{ marginLeft: \"10px\" }}>\n                      <CRow className='allfirms_title_row py-1 align-items-center'>\n                        <CCol className='col-md-1'>\n                          <CImage className='' src={AllFirms_logo} width={25} height={25} />\n                        </CCol>\n                        <CCol className='col-md-4'>\n                          <h4>All Users</h4>\n                        </CCol>\n                      </CRow>\n                    </CCol>\n                    <CCol className='col-md-2 align-content-center justify-content-end'>\n                      <Link to={'/add_users'}>\n                        <CButton id=\"but_color\">Add New User</CButton>\n                      </Link>\n                    </CCol>\n                  </CRow>\n\n                  <CRow className='allfirms_table_row py-5 px-1'>\n                    <CTable hover responsive className=\"custom-table\">\n                      <CTableHead className=\"custom-table-header\">\n                        <CTableRow>\n                          <CTableHeaderCell id='sss'>Sr. No.</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Name</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Address</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Email Id</CTableHeaderCell>\n                          {/* <CTableHeaderCell id='sss'>Status</CTableHeaderCell> */}\n                          <CTableHeaderCell id='sss'>Assigned Firm</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Curr. Balance</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Action</CTableHeaderCell>\n                          <CTableHeaderCell id='sss'>Details</CTableHeaderCell>\n                        </CTableRow>\n                      </CTableHead>\n                      <CTableBody>\n                        {users.map((user, index) => (\n                          <CTableRow key={user.user_id}>\n                            <CTableDataCell>{index + 1}</CTableDataCell>\n                            <CTableDataCell>{user.usr_name}</CTableDataCell>\n                            <CTableDataCell>{user.usr_address}</CTableDataCell>\n                            <CTableDataCell>{user.usr_email}</CTableDataCell>\n                            {/* <CTableDataCell>{user.usr_status}</CTableDataCell> */}\n                            <CTableDataCell>{user.firm_name}</CTableDataCell>\n                            <CTableDataCell>{user.currbal}</CTableDataCell>\n                            <CTableDataCell>\n                              <CButton color=\"warning\" size=\"sm\" className=\"me-2\" onClick={() => fetchUserDetails(user)}>Edit</CButton>\n                              <CButton color=\"danger\" size=\"sm\" onClick={() => handleDeleteModalOpen(user)}>Delete</CButton>\n                            </CTableDataCell>\n                            <CTableDataCell>\n                              <CButton color=\"info\" size=\"sm\" onClick={() => fetchUserDetails(user)}>View</CButton>\n                            </CTableDataCell>\n                          </CTableRow>\n                        ))}\n                      </CTableBody>\n                    </CTable>\n                  </CRow>\n                </CCard>\n              </CCol>\n            </CRow>\n          </>\n        </div>\n      </div>\n\n      <CModal visible={modalVisible} onClose={() => setModalVisible(false)}>\n        <CModalHeader closeButton>\n          <CModalTitle>Edit User</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n          <CForm>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"name\">Name</CFormLabel>\n              <CFormInput id=\"name\" value={formData.name} onChange={(e) => setFormData({ ...formData, name: e.target.value })} />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"email\">Email</CFormLabel>\n              <CFormInput id=\"email\" type=\"email\" value={formData.email} onChange={(e) => setFormData({ ...formData, email: e.target.value })} />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"password\">Password</CFormLabel>\n              <CFormInput id=\"password\" type=\"password\" value={formData.password} onChange={(e) => setFormData({ ...formData, password: e.target.value })} />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"contact\">Contact</CFormLabel>\n              <CFormInput id=\"contact\" value={formData.contact} onChange={(e) => setFormData({ ...formData, contact: e.target.value })} />\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"address\">Address</CFormLabel>\n              <CFormInput id=\"address\" value={formData.address} onChange={(e) => setFormData({ ...formData, address: e.target.value })} />\n            </div>\n            {/* <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"status\">Status</CFormLabel>\n              <CFormSelect id=\"status\" value={formData.status} onChange={(e) => setFormData({ ...formData, status: e.target.value })}>\n                <option value=\"1\">Active</option>\n                <option value=\"0\">Inactive</option>\n              </CFormSelect>\n            </div>\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"role\">Role</CFormLabel>\n              <CFormSelect id=\"role\" value={formData.role} onChange={(e) => setFormData({ ...formData, role: e.target.value })}>\n                <option value=\"1\">Admin</option>\n                <option value=\"2\">User</option>\n              </CFormSelect>\n            </div> */}\n            <div className=\"mb-3\">\n              <CFormLabel htmlFor=\"firmId\">Assigned Firm</CFormLabel>\n              <CFormInput id=\"firmId\" value={formData.firmId} onChange={(e) => setFormData({ ...formData, firmId: e.target.value })} />\n            </div>\n          </CForm>\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"primary\" onClick={handleUpdate}>Save</CButton>\n          <CButton color=\"secondary\" onClick={() => setModalVisible(false)}>Cancel</CButton>\n          {errorMessage && <div className=\"text-danger mt-2 text-center\">{errorMessage}</div>}\n          {successMessage && <div className=\"text-success mt-2 text-center\">{successMessage}</div>}\n        </CModalFooter>\n      </CModal>\n\n      <CModal visible={deleteModalVisible} onClose={() => setDeleteModalVisible(false)}>\n        <CModalHeader closeButton>\n          <CModalTitle>{selectedUser ? `Delete User ${selectedUser.usr_name}` : ''}</CModalTitle>\n        </CModalHeader>\n        <CModalBody>\n          {selectedUser && (\n            <p>Are you sure you want to delete user {selectedUser.usr_name}?</p>\n          )}\n        </CModalBody>\n        <CModalFooter>\n          <CButton color=\"danger\" onClick={handleDelete}>Delete</CButton>\n          <CButton color=\"secondary\" onClick={() => setDeleteModalVisible(false)}>Cancel</CButton>\n          {/* {errorMessage && <div className=\"text-danger mt-2 text-center\">{errorMessage}</div>}\n          {successMessage && <div className=\"text-success mt-2 text-center\">{successMessage}</div>} */}\n        </CModalFooter>\n      </CModal>\n    </div>\n  );\n}\n\nexport default All_Users;"],"names":["All_Users","user","useContext","UserContext","userId","users","setUsers","useState","loading","setLoading","selectedUser","setSelectedUser","modalVisible","setModalVisible","deleteModalVisible","setDeleteModalVisible","successMessage","setSuccessMessage","errorMessage","setErrorMessage","formData","setFormData","name","email","password","contact","address","status","role","firmId","fetchUsers","async","response","fetch","concat","USERS_ADDED_BY_USER_API_URL","ok","data","json","usersWithBalance","Promise","all","map","balanceResponse","TOTAL_BALANCE_OF_USER_API_URL","user_id","balanceData","currbal","console","error","useEffect","fetchUserDetails","log","usr_name","usr_email","usr_contact","usr_address","usr_status","usr_role","firm_name","_jsx","children","_jsxs","AdminSidebar","className","AdminHeader","_Fragment","CRow","CCol","CCard","style","borderColor","marginLeft","CImage","src","AllFirms_logo","width","height","Link","to","CButton","id","CTable","hover","responsive","CTableHead","CTableRow","CTableHeaderCell","CTableBody","index","CTableDataCell","color","size","onClick","handleDeleteModalOpen","CModal","visible","onClose","CModalHeader","closeButton","CModalTitle","CModalBody","CForm","CFormLabel","htmlFor","CFormInput","value","onChange","e","target","type","CModalFooter","updateUserResponse","method","headers","body","JSON","stringify","updateUserResdata","updateFirmResponse","uf_id","firm_id","updateFirmResdata"],"sourceRoot":""}