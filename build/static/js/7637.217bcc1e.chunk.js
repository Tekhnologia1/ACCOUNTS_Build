"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7637],{19620:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(72791),r=s(59565),l=(s(13162),s(89743)),c=s(2677),n=s(33821),d=s(323),o=s(53392),i=s(74292),m=s(16157),u=s(34782),h=s(88898),x=(s(67135),s(99161)),j=s(24846),f=s(80184);const p=()=>{const{user:e}=(0,t.useContext)(h.S),a=e.userId,[s,p]=(0,t.useState)(""),[Z,b]=(0,t.useState)(""),[g,A]=(0,t.useState)(""),[y,N]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[_,C]=(0,t.useState)(!1),[E,P]=(0,t.useState)(""),[I,k]=(0,t.useState)("");(0,t.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat("http://20.235.178.6:3007/api/users/user_details/").concat(a));if(!e.ok)throw new Error("Failed to fetch user details");{const a=(await e.json()).data;p(a.usr_name),b(a.usr_email),A(a.usr_password),N(a.usr_contact),w(a.usr_address)}}catch(e){console.error("Error fetching user details:",e),k("Failed to fetch user details. Please try again.")}})()}),[a]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(r.gV,{}),(0,f.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,f.jsx)(r.Pm,{}),(0,f.jsx)("div",{className:"body flex-grow-1 px-1",children:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(l.Z,{className:"justify-content-center mb-3",children:(0,f.jsx)(c.Z,{xs:10,children:(0,f.jsxs)("div",{className:"card_border_color_change py-5",style:{borderColor:"white",borderRadius:"10px"},children:[(0,f.jsx)(l.Z,{className:"align-items-center",children:(0,f.jsx)(c.Z,{style:{marginLeft:"11px"},className:"col-10",children:(0,f.jsxs)(l.Z,{className:"allfirms_icon_title_row align-items-center",children:[(0,f.jsx)(c.Z,{className:"col-2 col-md-1",children:(0,f.jsx)(j.Z,{icon:x.E,style:{color:"white",margin:"5px 0px 0px 0px"},width:25,height:25,className:""})}),(0,f.jsx)(c.Z,{className:"col-7 col-md-7",children:(0,f.jsx)("h5",{className:"title_font mb-0",style:{color:"white"},children:"My Profile"})})]})})}),(0,f.jsx)(l.Z,{className:"allfirms_table_row py-5 justify-content-center",children:(0,f.jsx)(c.Z,{xs:12,md:8,children:(0,f.jsxs)(n.Z,{children:[(0,f.jsxs)(d.Z,{as:l.Z,className:"mb-3",controlId:"formName",children:[(0,f.jsx)(o.Z,{column:!0,md:4,children:"Name"}),(0,f.jsx)(c.Z,{md:8,children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Name",value:s,readOnly:!0})})]}),(0,f.jsxs)(d.Z,{as:l.Z,className:"mb-3",controlId:"formEmail",children:[(0,f.jsx)(o.Z,{column:!0,md:4,children:"Email"}),(0,f.jsx)(c.Z,{md:8,children:(0,f.jsx)(i.Z,{type:"email",placeholder:"Email",value:Z,readOnly:!0})})]}),(0,f.jsxs)(d.Z,{as:l.Z,className:"mb-3",controlId:"formPassword",children:[(0,f.jsx)(o.Z,{column:!0,md:4,children:"Password"}),(0,f.jsx)(c.Z,{md:8,children:(0,f.jsx)(i.Z,{type:"password",placeholder:"Password",value:g,readOnly:!0})})]}),(0,f.jsxs)(d.Z,{as:l.Z,className:"mb-3",controlId:"formContact",children:[(0,f.jsx)(o.Z,{column:!0,md:4,children:"Contact No."}),(0,f.jsx)(c.Z,{md:8,children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Contact",value:y,readOnly:!0})})]}),(0,f.jsxs)(d.Z,{as:l.Z,className:"mb-3",controlId:"formAddress",children:[(0,f.jsx)(o.Z,{column:!0,md:4,children:"Address"}),(0,f.jsx)(c.Z,{md:8,children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Address",value:v,readOnly:!0})})]}),(0,f.jsx)(l.Z,{className:"justify-content-center align-content-center cf_acc_bt_row",children:(0,f.jsx)(m.Z,{onClick:()=>C(!0),id:"but_color",children:"Edit"})})]})})})]})})})})})]}),(0,f.jsxs)(u.Z,{show:_,onHide:()=>C(!1),children:[(0,f.jsx)(u.Z.Header,{closeButton:!0,children:(0,f.jsx)(u.Z.Title,{children:"Edit Profile Details"})}),(0,f.jsx)(u.Z.Body,{children:(0,f.jsxs)(n.Z,{children:[(0,f.jsx)(d.Z,{className:"mb-3",controlId:"formName",children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Name",value:s,onChange:e=>p(e.target.value),readOnly:!0})}),(0,f.jsx)(d.Z,{className:"mb-3",controlId:"formEmail",children:(0,f.jsx)(i.Z,{type:"email",placeholder:"Email",value:Z,onChange:e=>b(e.target.value),readOnly:!0})}),(0,f.jsx)(d.Z,{className:"mb-3",controlId:"formPassword",children:(0,f.jsx)(i.Z,{type:"password",placeholder:"Password",value:g,onChange:e=>A(e.target.value)})}),(0,f.jsx)(d.Z,{className:"mb-3",controlId:"formContact",children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Contact",value:y,onChange:e=>N(e.target.value)})}),(0,f.jsx)(d.Z,{className:"mb-3",controlId:"formAddress",children:(0,f.jsx)(i.Z,{type:"text",placeholder:"Address",value:v,onChange:e=>w(e.target.value)})}),(0,f.jsxs)(l.Z,{className:"justify-content-center align-content-center cf_acc_bt_row",children:[(0,f.jsx)(m.Z,{onClick:async()=>{try{if(!(await fetch("".concat("http://20.235.178.6:3007/api/users/update_user_details/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:Z,password:g,contact:y,address:v,status:"1",role:"1"})})).ok)throw new Error("Failed to update user");P("User details updated successfully."),k(""),setTimeout((()=>{window.location.reload()}),1e3)}catch(e){console.error("Error updating user:",e),k("Failed to update user. Please try again."),P(""),setTimeout((()=>{window.location.reload()}),1e3)}},id:"but_color",children:"Save"}),I&&(0,f.jsx)("div",{className:"text-danger mt-2 text-center",children:I}),E&&(0,f.jsx)("div",{className:"text-success mt-2 text-center",children:E})]})]})})]})]})}},16157:(e,a,s)=>{s.d(a,{Z:()=>u});var t=s(81694),r=s.n(t),l=s(72791),c=s(80184);const n=["as","disabled"];function d(e){let{tagName:a,disabled:s,href:t,target:r,rel:l,role:c,onClick:n,tabIndex:d=0,type:o}=e;a||(a=null!=t||null!=r||null!=l?"a":"button");const i={tagName:a};if("button"===a)return[{type:o||"button",disabled:s},i];const m=e=>{(s||"a"===a&&function(e){return!e||"#"===e.trim()}(t))&&e.preventDefault(),s?e.stopPropagation():null==n||n(e)};return"a"===a&&(t||(t="#"),s&&(t=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:s?void 0:d,href:t,target:"a"===a?r:void 0,"aria-disabled":s||void 0,rel:"a"===a?l:void 0,onClick:m,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),m(e))}},i]}const o=l.forwardRef(((e,a)=>{let{as:s,disabled:t}=e,r=function(e,a){if(null==e)return{};var s,t,r={},l=Object.keys(e);for(t=0;t<l.length;t++)s=l[t],a.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);const[l,{tagName:o}]=d(Object.assign({tagName:s,disabled:t},r));return(0,c.jsx)(o,Object.assign({},r,l,{ref:a}))}));o.displayName="Button";var i=s(10162);const m=l.forwardRef(((e,a)=>{let{as:s,bsPrefix:t,variant:l="primary",size:n,active:o=!1,disabled:m=!1,className:u,...h}=e;const x=(0,i.vE)(t,"btn"),[j,{tagName:f}]=d({tagName:s,disabled:m,...h}),p=f;return(0,c.jsx)(p,{...j,...h,ref:a,disabled:m,className:r()(u,x,o&&"active",l&&"".concat(x,"-").concat(l),n&&"".concat(x,"-").concat(n),h.href&&m&&"disabled")})}));m.displayName="Button";const u=m},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=7637.217bcc1e.chunk.js.map