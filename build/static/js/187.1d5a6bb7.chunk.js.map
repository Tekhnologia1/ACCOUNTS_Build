{"version":3,"file":"static/js/187.1d5a6bb7.chunk.js","mappings":"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","sources":["api/APIURL.js","views/firm_user/Receipts/User_CreateReceipt.js"],"sourcesContent":["export const api_url = 'http://3.111.33.23:3007';","import React, { useContext, useEffect, useState } from 'react';\nimport { Container, Row, Col, Form, FormGroup, FormLabel, FormControl, FormCheck, Button, Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport AdminSidebar from 'src/components/admincomponents/AdminSidebar';\nimport AdminHeader from 'src/components/admincomponents/AdminHeader';\nimport AllFirms_logo from 'src/assets/images/admin_dashboard_icons/AllFirms.png';\nimport { UserContext } from 'src/context/UserContextProvider';\nimport { api_url } from 'src/api/APIURL';\nimport { FirmusrHeader, FirmusrSidebar } from 'src/components';\n\nconst User_CreateReceipt = () => {\n    const { user } = useContext(UserContext);\n    const userId = user.userId;\n\n    const [firms, setFirms] = useState([]);\n    const [selectedFromFirmId, setSelectedFromFirmId] = useState('');\n    const [selectedToFirmId, setSelectedToFirmId] = useState('');\n    const [fromGeneralLedgers, setFromGeneralLedgers] = useState([]);\n    const [toGeneralLedgers, setToGeneralLedgers] = useState([]);\n    const [selectedFromGLId, setSelectedFromGLId] = useState('');\n    const [selectedToGLId, setSelectedToGLId] = useState('');\n    const [amount, setAmount] = useState('');\n    const [loadingFromGL, setLoadingFromGL] = useState(false);\n    const [loadingToGL, setLoadingToGL] = useState(false);\n\n    useEffect(() => {\n        const fetchFirms = async () => {\n            try {\n                const response = await fetch(`${api_url}/api/users/get_all_firms_by_user/${userId}`);\n                if (!response.ok) {\n                    throw new Error('Failed to fetch data');\n                }\n                const resdata = await response.json();\n                setFirms(resdata.data);\n            } catch (error) {\n                console.error('Error fetching firms:', error);\n            }\n        };\n        fetchFirms();\n    }, [userId]);\n\n    const fetchGeneralLedgers = async (firm_id) => {\n        try {\n            const response = await fetch(`${api_url}/api/users/get_general_ledgers/${firm_id}`);\n            if (!response.ok) {\n                throw new Error('No GLs here');\n            }\n            const data = await response.json();\n            return data.data;\n        } catch (error) {\n            console.error('Error fetching data of GLs:', error);\n        }\n    };\n\n    useEffect(() => {\n        const loadGeneralLedgers = async () => {\n            if (selectedFromFirmId) {\n                setLoadingFromGL(true);\n                const generalLedgers = await fetchGeneralLedgers(selectedFromFirmId);\n                setFromGeneralLedgers(generalLedgers);\n                setLoadingFromGL(false);\n            }\n        };\n        loadGeneralLedgers();\n    }, [selectedFromFirmId]);\n\n    useEffect(() => {\n        const loadGeneralLedgers = async () => {\n            if (selectedToFirmId) {\n                setLoadingToGL(true);\n                const generalLedgers = await fetchGeneralLedgers(selectedToFirmId);\n                setToGeneralLedgers(generalLedgers);\n                setLoadingToGL(false);\n            }\n        };\n        loadGeneralLedgers();\n    }, [selectedToFirmId]);\n\n    const handleSaveReceipt = async () => {\n        try {\n            const payload = {\n                to_firm_id: selectedToFirmId,\n                to_gl_id: selectedToGLId,\n                from_firm_id: selectedFromFirmId,\n                from_gl_id: selectedFromGLId,\n                amount: Number(amount)\n            };\n\n            const response = await fetch(`${api_url}/api/users/receipt/${userId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(payload)\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to process receipt');\n            }\n\n            const result = await response.json();\n            console.log(result);\n            alert('Amount received !');\n            // setTimeout(() => {\n            //     window.location.reload();\n            // }, 1000);\n        } catch (error) {\n            console.error('Error processing receipt:', error);\n            alert('Receipt failed');\n        }\n    };\n\n    return (\n        <div>\n            <FirmusrSidebar />\n            <div className=\"wrapper d-flex flex-column min-vh-100 bg-light\">\n                <FirmusrHeader />\n                <div className=\"flex-grow-1 px-3 px-md-5\">\n                    <Row className=\"justify-content-center mb-3\">\n                        <Col xs={12}>\n                            <Card className=\"card_border_color_change py-5\" style={{ borderColor: \"white\" }}>\n                                <Row className=\"allfirms_title_mainrow\">\n                                    <Col xs={12} md={9} className=\"mb-2 mb-md-0\" style={{ marginLeft: \"10px\" }}>\n                                        <Row className=\"allfirms_title_row py-1 align-items-center\">\n                                            <Col xs={2} md={1}>\n                                                <img className=\"\" src={AllFirms_logo} width={25} height={25} alt=\"AllFirms Logo\" />\n                                            </Col>\n                                            <Col xs={10} md={4}>\n                                                <h4>Receipts</h4>\n                                            </Col>\n                                        </Row>\n                                    </Col>\n                                    <Col xs={12} md={2} className=\"d-flex align-items-center justify-content-end\">\n                                        <Link to={'/user_allreceipts'}>\n                                            <Button id=\"but_color\">All Receipts</Button>\n                                        </Link>\n                                    </Col>\n                                </Row>\n\n                                <Row className=\"allfirms_table_row py-5 justify-content-center\">\n                                    <Col xs={12} md={6}>\n                                        {/* <Row className=\"justify-content-center\">\n                                            <Col xs={12} md={3} className=\"mb-3 mb-md-0\">\n                                                <Form>\n                                                    <FormGroup as={Row} className=\"mb-3\" controlId=\"formUserType\">\n                                                        <Col>\n                                                            <Form.Check type=\"radio\" label=\"Firm\" name=\"userType\" id=\"firm\" inline defaultChecked />\n                                                            <Form.Check type=\"radio\" label=\"User\" name=\"userType\" id=\"user\" inline />\n                                                        </Col>\n                                                    </FormGroup>\n                                                </Form>\n                                            </Col>\n                                        </Row> */}\n\n                                        <Row className=\"justify-content-center\">\n                                            <Col xs={12}>\n                                                <Card className=\"bg_color_blue_white\">\n                                                    <Card.Body>\n                                                        <Form>\n                                                            <FormGroup className=\"mb-3\" controlId=\"formTransactionID\">\n                                                                <FormLabel>Transaction ID / SD101D</FormLabel>\n                                                            </FormGroup>\n                                                            <FormGroup as={Row} className=\"mb-3\" controlId=\"formTo\">\n                                                                <FormLabel column xs={12} sm={2}>To:</FormLabel>\n                                                                <Col xs={12} sm={5}>\n                                                                    <Form.Control\n                                                                        as=\"select\"\n                                                                        value={selectedToFirmId}\n                                                                        className=\"form-select\"\n                                                                        onChange={(e) => setSelectedToFirmId(e.target.value)}\n                                                                    >\n                                                                        <option value=\"\">Select To Firm</option>\n                                                                        {firms.map((firm) => (\n                                                                            <option key={firm.firm_id} value={firm.firm_id}>{firm.firm_name}</option>\n                                                                        ))}\n                                                                    </Form.Control>\n                                                                </Col>\n                                                                <Col xs={12} sm={5}>\n                                                                    <Form.Control\n                                                                        as=\"select\"\n                                                                        value={selectedToGLId}\n                                                                        className=\"form-select\"\n                                                                        onChange={(e) => setSelectedToGLId(e.target.value)}\n                                                                        disabled={!selectedToFirmId || loadingToGL}\n                                                                    >\n                                                                        <option value=\"\">Select GL</option>\n                                                                        {toGeneralLedgers.map((gl) => (\n                                                                            <option key={gl.gl_id} value={gl.gl_id}>{gl.gl_name}</option>\n                                                                        ))}\n                                                                    </Form.Control>\n                                                                </Col>\n                                                            </FormGroup>\n                                                            <FormGroup as={Row} className=\"mb-3\" controlId=\"formFrom\">\n                                                                <FormLabel column xs={12} sm={2}>From:</FormLabel>\n                                                                <Col xs={12} sm={5}>\n                                                                    <Form.Control\n                                                                        as=\"select\"\n                                                                        value={selectedFromFirmId}\n                                                                        className=\"form-select\"\n                                                                        onChange={(e) => setSelectedFromFirmId(e.target.value)}\n                                                                    >\n                                                                        <option value=\"\">Select From Firm</option>\n                                                                        {firms.map((firm) => (\n                                                                            <option key={firm.firm_id} value={firm.firm_id}>{firm.firm_name}</option>\n                                                                        ))}\n                                                                    </Form.Control>\n                                                                </Col>\n                                                                <Col xs={12} sm={5}>\n                                                                    <Form.Control\n                                                                        as=\"select\"\n                                                                        value={selectedFromGLId}\n                                                                        className=\"form-select\"\n                                                                        onChange={(e) => setSelectedFromGLId(e.target.value)}\n                                                                        disabled={!selectedFromFirmId || loadingFromGL}\n                                                                    >\n                                                                        <option value=\"\">Select GL</option>\n                                                                        {fromGeneralLedgers.map((gl) => (\n                                                                            <option key={gl.gl_id} value={gl.gl_id}>{gl.gl_name}</option>\n                                                                        ))}\n                                                                    </Form.Control>\n                                                                </Col>\n                                                            </FormGroup>\n                                                            <FormGroup as={Row} className=\"mb-3\" controlId=\"formAmount\">\n                                                                <FormLabel column xs={12} sm={2}>Amount:</FormLabel>\n                                                                <Col xs={12} sm={10}>\n                                                                    <FormControl\n                                                                        type=\"number\"\n                                                                        placeholder=\"Enter Amount\"\n                                                                        value={amount}\n                                                                        onChange={(e) => setAmount(e.target.value)}\n                                                                    />\n                                                                </Col>\n                                                            </FormGroup>\n                                                            <Row className='justify-content-center mt-3'>\n                                                                <Button className='col-md-3 col-6' id=\"but_color\" onClick={handleSaveReceipt}>Create Receipt</Button>\n                                                            </Row>\n                                                        </Form>\n                                                    </Card.Body>\n                                                </Card>\n                                            </Col>\n                                        </Row>\n                                    </Col>\n                                </Row>\n                            </Card>\n                        </Col>\n                    </Row>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default User_CreateReceipt;\n"],"names":["api_url","User_CreateReceipt","user","useContext","UserContext","userId","firms","setFirms","useState","selectedFromFirmId","setSelectedFromFirmId","selectedToFirmId","setSelectedToFirmId","fromGeneralLedgers","setFromGeneralLedgers","toGeneralLedgers","setToGeneralLedgers","selectedFromGLId","setSelectedFromGLId","selectedToGLId","setSelectedToGLId","amount","setAmount","loadingFromGL","setLoadingFromGL","loadingToGL","setLoadingToGL","useEffect","async","response","fetch","concat","ok","Error","resdata","json","data","error","console","fetchFirms","fetchGeneralLedgers","firm_id","generalLedgers","loadGeneralLedgers","_jsxs","children","_jsx","FirmusrSidebar","className","FirmusrHeader","Row","Col","xs","Card","style","borderColor","md","marginLeft","src","AllFirms_logo","width","height","alt","Link","to","Button","id","Body","Form","FormGroup","controlId","FormLabel","as","column","sm","Control","value","onChange","e","target","map","firm","firm_name","disabled","gl","gl_id","gl_name","FormControl","type","placeholder","onClick","payload","to_firm_id","to_gl_id","from_firm_id","from_gl_id","Number","method","headers","body","JSON","stringify","result","log","alert"],"sourceRoot":""}