"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1187],{17598:(e,s,t)=>{t.d(s,{T:()=>r});const r="http://65.0.139.50:3007"},47502:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var r=t(65043),a=t(61072),c=t(78602),l=t(88258),o=t(68155),n=t(67006),i=t(1433),d=t(42780),m=t(86311),A=t(35475),h=(t(73457),t(79067),t(85049)),x=t(59395),u=t(17598),f=t(42645),j=t(70579);const _=()=>{const{user:e}=(0,r.useContext)(x.R),s=e.userId,[t,_]=(0,r.useState)([]),[g,p]=(0,r.useState)([]),[b,w]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[v,C]=(0,r.useState)([]),[E,S]=(0,r.useState)([]),[T,F]=(0,r.useState)(""),[k,I]=(0,r.useState)(""),[U,R]=(0,r.useState)(""),[L,M]=(0,r.useState)(!1),[P,Q]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(u.T,"/api/users/get_all_firms_by_adding_user/").concat(s));if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();_(t.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[s]),(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(u.T,"/api/users/get_all_firms_by_user/").concat(s));if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();p(t.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[s]);const B=async e=>{try{const s=await fetch("".concat(u.T,"/api/users/get_general_ledgers/").concat(e));if(!s.ok)throw new Error("No GLs here");return(await s.json()).data}catch(s){console.error("Error fetching data of GLs:",s)}};(0,r.useEffect)((()=>{(async()=>{if(b){M(!0);const e=await B(b);C(e),M(!1)}})()}),[b]),(0,r.useEffect)((()=>{(async()=>{if(y){Q(!0);const e=await B(y);S(e),Q(!1)}})()}),[y]);return(0,j.jsxs)("div",{children:[(0,j.jsx)(f.PM,{}),(0,j.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,j.jsx)(f.au,{}),(0,j.jsx)("div",{className:"flex-grow-1 px-3 px-md-5",children:(0,j.jsx)(a.A,{className:"justify-content-center mb-3",children:(0,j.jsx)(c.A,{xs:12,children:(0,j.jsxs)(l.A,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,j.jsxs)(a.A,{className:"allfirms_title_mainrow",children:[(0,j.jsx)(c.A,{xs:12,md:9,className:"mb-2 mb-md-0",style:{marginLeft:"10px"},children:(0,j.jsxs)(a.A,{className:"allfirms_title_row py-1 align-items-center",children:[(0,j.jsx)(c.A,{xs:2,md:1,children:(0,j.jsx)("img",{className:"",src:h,width:25,height:25,alt:"AllFirms Logo"})}),(0,j.jsx)(c.A,{xs:10,md:4,children:(0,j.jsx)("h4",{children:"Receipts"})})]})}),(0,j.jsx)(c.A,{xs:12,md:2,className:"d-flex align-items-center justify-content-end",children:(0,j.jsx)(A.N_,{to:"/user_allreceipts",children:(0,j.jsx)(o.A,{id:"but_color",children:"All Receipts"})})})]}),(0,j.jsx)(a.A,{className:"allfirms_table_row py-5 justify-content-center",children:(0,j.jsx)(c.A,{xs:12,md:8,children:(0,j.jsx)(a.A,{className:"justify-content-center",children:(0,j.jsxs)(c.A,{md:12,children:[(0,j.jsx)(l.A,{className:"bg_color_blue_white",children:(0,j.jsx)(l.A.Body,{children:(0,j.jsxs)(n.A,{children:[(0,j.jsx)(i.A,{className:"mb-3",controlId:"formTransactionID",children:(0,j.jsx)(d.A,{children:"Transaction :"})}),(0,j.jsxs)(i.A,{as:a.A,className:"mb-3",controlId:"formTo",children:[(0,j.jsx)(d.A,{column:!0,xs:12,sm:3,children:"To:"}),(0,j.jsx)(c.A,{xs:12,sm:5,children:(0,j.jsxs)(n.A.Control,{as:"select",value:y,className:"form-select",onChange:e=>N(e.target.value),children:[(0,j.jsx)("option",{value:"",children:"Select To Firm"}),g.map((e=>(0,j.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})}),(0,j.jsx)(c.A,{xs:12,sm:4,children:(0,j.jsxs)(n.A.Control,{as:"select",value:k,className:"form-select",onChange:e=>I(e.target.value),disabled:!y||P,children:[(0,j.jsx)("option",{value:"",children:"Select Your Firm Account"}),E.map((e=>(0,j.jsx)("option",{value:e.gl_id,children:e.gl_name},e.gl_id)))]})})]}),(0,j.jsxs)(i.A,{as:a.A,className:"mb-3",controlId:"formFrom",children:[(0,j.jsx)(d.A,{column:!0,xs:12,sm:3,children:"From:"}),(0,j.jsx)(c.A,{xs:12,sm:5,children:(0,j.jsxs)(n.A.Control,{as:"select",value:b,className:"form-select",onChange:e=>w(e.target.value),children:[(0,j.jsx)("option",{value:"",children:"Select From Firm"}),t.map((e=>(0,j.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})}),(0,j.jsx)(c.A,{xs:12,sm:4,children:(0,j.jsxs)(n.A.Control,{as:"select",value:T,className:"form-select",onChange:e=>F(e.target.value),disabled:!b||L,children:[(0,j.jsx)("option",{value:"",children:"Select Your Firm Account"}),v.map((e=>(0,j.jsx)("option",{value:e.gl_id,children:e.gl_name},e.gl_id)))]})})]}),(0,j.jsxs)(i.A,{as:a.A,className:"mb-3",controlId:"formAmount",children:[(0,j.jsx)(d.A,{column:!0,xs:12,sm:3,children:"Amount:"}),(0,j.jsx)(c.A,{xs:12,sm:5,children:(0,j.jsx)(m.A,{type:"text",placeholder:"Enter Amount",value:U,onChange:e=>R(e.target.value)})})]})]})})}),(0,j.jsx)(a.A,{className:"justify-content-center mt-3",children:(0,j.jsx)(o.A,{className:"col-md-3 col-6",id:"but_color",onClick:async()=>{try{const e={to_firm_id:y,to_gl_id:k,from_firm_id:b,from_gl_id:T,amount:Number(U)},t=await fetch("".concat(u.T,"/api/users/receipt/").concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to process receipt");const r=await t.json();console.log(r),alert("Amount received !")}catch(e){console.error("Error processing receipt:",e),alert("Receipt failed")}},children:"Create Receipt"})})]})})})})]})})})})]})]})}},85049:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=1187.dee692f7.chunk.js.map