"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[498],{25407:(e,s,a)=>{a.d(s,{Y:()=>r});const r="http://13.233.105.76:3007"},32211:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var r=a(72791),t=a(13162),l=a(78983),c=a(35109),n=(a(77632),a(11087)),o=a(33821),i=a(89743),d=a(2677),m=a(34782),h=a(88898),x=a(12903),f=a(25407),u=a(80184);const j=()=>{const{user:e}=(0,r.useContext)(h.S),s=e.userId,[a,j]=(0,r.useState)([]),[p,b]=(0,r.useState)(""),[g,N]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[w,Z]=(0,r.useState)({gl_id:"",gl_name:"",gl_status:""}),[A,_]=(0,r.useState)(!1),[C,F]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(f.Y,"/api/users/get_all_firms_by_user/").concat(s));if(!e.ok)throw new Error("Failed to fetch data");const a=await e.json();j(a.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[s]);const E=async e=>{try{const s=await fetch("".concat(f.Y,"/api/users/get_general_ledgers/").concat(e));if(!s.ok)throw new Error("Failed to fetch data");const a=await s.json();N(a.data)}catch(s){console.error("Error fetching data:",s)}};(0,r.useEffect)((()=>{p&&E(p)}),[p]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(c.gV,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,u.jsx)(c.Pm,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-5",children:(0,u.jsx)(l.rb,{className:"justify-content-center mb-3",children:(0,u.jsx)(l.b7,{md:12,children:(0,u.jsxs)(l.xH,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,u.jsxs)(l.rb,{className:"allfirms_title_mainrow",children:[(0,u.jsx)(l.b7,{md:9,style:{marginLeft:"10px"},children:(0,u.jsxs)(l.rb,{className:"allfirms_title_row py-1 align-items-center",children:[(0,u.jsx)(l.b7,{md:1,children:(0,u.jsx)(l.DW,{className:"",src:t,width:25,height:25})}),(0,u.jsx)(l.b7,{md:5,children:(0,u.jsx)("h4",{children:"General Ledgers"})})]})}),(0,u.jsx)(l.b7,{md:2,className:"align-content-center justify-content-end",children:(0,u.jsx)(n.rU,{to:"/create_ledger",children:(0,u.jsx)(l.u5,{id:"but_color",children:"Create Ledger"})})})]}),(0,u.jsxs)(l.rb,{className:"allfirms_table_row py-5",children:[(0,u.jsxs)(o.Z.Group,{as:i.Z,className:"mb-3",controlId:"formFirmName",children:[(0,u.jsx)(o.Z.Label,{column:!0,sm:2,children:"Firm Name"}),(0,u.jsx)(d.Z,{sm:5,children:(0,u.jsxs)(o.Z.Control,{as:"select",value:p,className:"form-select",onChange:e=>b(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Select Firm"}),a.map((e=>(0,u.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})})]}),(0,u.jsxs)(l.Sx,{hover:!0,responsive:!0,className:"custom-table",children:[(0,u.jsx)(l.V,{className:"custom-table-header",children:(0,u.jsxs)(l.T6,{children:[(0,u.jsx)(l.is,{children:"Sr. No."}),(0,u.jsx)(l.is,{children:"Gen Ledger Name"}),(0,u.jsx)(l.is,{children:"Status"}),(0,u.jsx)(l.is,{children:"Curr. Balance"}),(0,u.jsx)(l.is,{children:"Action"})]})}),(0,u.jsx)(l.NR,{children:g.map(((e,s)=>(0,u.jsxs)(l.T6,{children:[(0,u.jsx)(l.NN,{children:s+1}),(0,u.jsx)(l.NN,{children:e.gl_name}),(0,u.jsx)(l.NN,{children:e.gl_status}),(0,u.jsx)(l.NN,{children:e.balance}),(0,u.jsxs)(l.NN,{children:[(0,u.jsx)(l.u5,{color:"warning",size:"sm",className:"me-2",onClick:()=>(e=>{Z(e),v(!0)})(e),children:"Edit"}),(0,u.jsx)(l.u5,{color:"danger",size:"sm",onClick:()=>(e=>{F(e),_(!0)})({firm_id:p,gl_id:e.gl_id}),children:"Delete"})]})]},s)))})]})]})]})})})})]}),(0,u.jsxs)(m.Z,{show:y,onHide:()=>v(!1),children:[(0,u.jsx)(m.Z.Header,{closeButton:!0,children:(0,u.jsx)(m.Z.Title,{children:"Edit General Ledger"})}),(0,u.jsx)(m.Z.Body,{children:(0,u.jsx)(o.Z,{children:(0,u.jsxs)(o.Z.Group,{controlId:"formGLName",children:[(0,u.jsx)(o.Z.Label,{children:"Gen Ledger Name"}),(0,u.jsx)(o.Z.Control,{type:"text",value:w.gl_name,onChange:e=>Z({...w,gl_name:e.target.value})})]})})}),(0,u.jsxs)(m.Z.Footer,{children:[(0,u.jsx)(l.u5,{color:"secondary",onClick:()=>v(!1),children:"Close"}),(0,u.jsx)(l.u5,{color:"primary",onClick:()=>{(async(e,s,a)=>{try{const r=await x.Z.put("".concat(f.Y,"/api/users/update_general_ledgers/").concat(e,"/").concat(s),a);if(200!==r.status)throw new Error("Failed to update data");alert(r.data.message),v(!1),E(e)}catch(r){console.error("Error updating data:",r)}})(p,w.gl_id,{gl_name:w.gl_name,gl_status:w.gl_status})},children:"Save changes"})]})]}),(0,u.jsxs)(m.Z,{show:A,onHide:()=>_(!1),children:[(0,u.jsx)(m.Z.Header,{closeButton:!0,children:(0,u.jsx)(m.Z.Title,{children:"Confirm Deletion"})}),(0,u.jsx)(m.Z.Body,{children:"Are you sure you want to delete this ledger?"}),(0,u.jsxs)(m.Z.Footer,{children:[(0,u.jsx)(l.u5,{color:"secondary",onClick:()=>_(!1),children:"Cancel"}),(0,u.jsx)(l.u5,{color:"danger",onClick:async()=>{if(!C)return;const{firm_id:e,gl_id:s}=C;try{if(200!==(await x.Z.delete("".concat(f.Y,"/api/users/delete_general_ledgers/").concat(e,"/").concat(s))).status)throw new Error("Failed to delete data");_(!1),E(e)}catch(a){console.error("Error deleting data:",a)}},children:"Delete"})]})]})]})}},70783:(e,s,a)=>{a.d(s,{Z:()=>m});var r=a(81694),t=a.n(r),l=a(72791),c=a(52007),n=a.n(c),o=a(80184);const i={type:n().string,tooltip:n().bool,as:n().elementType},d=l.forwardRef(((e,s)=>{let{as:a="div",className:r,type:l="valid",tooltip:c=!1,...n}=e;return(0,o.jsx)(a,{...n,ref:s,className:t()(r,"".concat(l,"-").concat(c?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=i;const m=d},33821:(e,s,a)=>{a.d(s,{Z:()=>P});var r=a(81694),t=a.n(r),l=a(52007),c=a.n(l),n=a(72791),o=a(70783),i=a(96882),d=a(84934),m=a(10162),h=a(80184);const x=n.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,htmlFor:l,...c}=e;const{controlId:o}=(0,n.useContext)(d.Z);return a=(0,m.vE)(a,"form-check-label"),(0,h.jsx)("label",{...c,ref:s,htmlFor:l||o,className:t()(r,a)})}));x.displayName="FormCheckLabel";const f=x;var u=a(11701);const j=n.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,bsSwitchPrefix:l,inline:c=!1,reverse:x=!1,disabled:j=!1,isValid:p=!1,isInvalid:b=!1,feedbackTooltip:g=!1,feedback:N,feedbackType:y,className:v,style:w,title:Z="",type:A="checkbox",label:_,children:C,as:F="input",...E}=e;r=(0,m.vE)(r,"form-check"),l=(0,m.vE)(l,"form-switch");const{controlId:k}=(0,n.useContext)(d.Z),I=(0,n.useMemo)((()=>({controlId:a||k})),[k,a]),S=!C&&null!=_&&!1!==_||(0,u.XW)(C,f),R=(0,h.jsx)(i.Z,{...E,type:"switch"===A?"checkbox":A,ref:s,isValid:p,isInvalid:b,disabled:j,as:F});return(0,h.jsx)(d.Z.Provider,{value:I,children:(0,h.jsx)("div",{style:w,className:t()(v,S&&r,c&&"".concat(r,"-inline"),x&&"".concat(r,"-reverse"),"switch"===A&&l),children:C||(0,h.jsxs)(h.Fragment,{children:[R,S&&(0,h.jsx)(f,{title:Z,children:_}),N&&(0,h.jsx)(o.Z,{type:y,tooltip:g,children:N})]})})})}));j.displayName="FormCheck";const p=Object.assign(j,{Input:i.Z,Label:f});var b=a(74292);const g=n.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:l="div",...c}=e;return r=(0,m.vE)(r,"form-floating"),(0,h.jsx)(l,{ref:s,className:t()(a,r),...c})}));g.displayName="FormFloating";const N=g;var y=a(323),v=a(53392);const w=n.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,id:l,...c}=e;const{controlId:o}=(0,n.useContext)(d.Z);return a=(0,m.vE)(a,"form-range"),(0,h.jsx)("input",{...c,type:"range",ref:s,className:t()(r,a),id:l||o})}));w.displayName="FormRange";const Z=w,A=n.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,htmlSize:l,className:c,isValid:o=!1,isInvalid:i=!1,id:x,...f}=e;const{controlId:u}=(0,n.useContext)(d.Z);return a=(0,m.vE)(a,"form-select"),(0,h.jsx)("select",{...f,size:l,ref:s,className:t()(c,a,r&&"".concat(a,"-").concat(r),o&&"is-valid",i&&"is-invalid"),id:x||u})}));A.displayName="FormSelect";const _=A,C=n.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,as:l="small",muted:c,...n}=e;return a=(0,m.vE)(a,"form-text"),(0,h.jsx)(l,{...n,ref:s,className:t()(r,a,c&&"text-muted")})}));C.displayName="FormText";const F=C,E=n.forwardRef(((e,s)=>(0,h.jsx)(p,{...e,ref:s,type:"switch"})));E.displayName="Switch";const k=Object.assign(E,{Input:p.Input,Label:p.Label}),I=n.forwardRef(((e,s)=>{let{bsPrefix:a,className:r,children:l,controlId:c,label:n,...o}=e;return a=(0,m.vE)(a,"form-floating"),(0,h.jsxs)(y.Z,{ref:s,className:t()(r,a),controlId:c,...o,children:[l,(0,h.jsx)("label",{htmlFor:c,children:n})]})}));I.displayName="FloatingLabel";const S=I,R={_ref:c().any,validated:c().bool,as:c().elementType},L=n.forwardRef(((e,s)=>{let{className:a,validated:r,as:l="form",...c}=e;return(0,h.jsx)(l,{...c,ref:s,className:t()(a,r&&"was-validated")})}));L.displayName="Form",L.propTypes=R;const P=Object.assign(L,{Group:y.Z,Control:b.Z,Floating:N,Check:p,Switch:k,Label:v.Z,Text:F,Range:Z,Select:_,FloatingLabel:S})},96882:(e,s,a)=>{a.d(s,{Z:()=>d});var r=a(81694),t=a.n(r),l=a(72791),c=a(84934),n=a(10162),o=a(80184);const i=l.forwardRef(((e,s)=>{let{id:a,bsPrefix:r,className:i,type:d="checkbox",isValid:m=!1,isInvalid:h=!1,as:x="input",...f}=e;const{controlId:u}=(0,l.useContext)(c.Z);return r=(0,n.vE)(r,"form-check-input"),(0,o.jsx)(x,{...f,ref:s,type:d,id:a||u,className:t()(i,r,m&&"is-valid",h&&"is-invalid")})}));i.displayName="FormCheckInput";const d=i},84934:(e,s,a)=>{a.d(s,{Z:()=>r});const r=a(72791).createContext({})},74292:(e,s,a)=>{a.d(s,{Z:()=>m});var r=a(81694),t=a.n(r),l=a(72791),c=(a(42391),a(70783)),n=a(84934),o=a(10162),i=a(80184);const d=l.forwardRef(((e,s)=>{let{bsPrefix:a,type:r,size:c,htmlSize:d,id:m,className:h,isValid:x=!1,isInvalid:f=!1,plaintext:u,readOnly:j,as:p="input",...b}=e;const{controlId:g}=(0,l.useContext)(n.Z);return a=(0,o.vE)(a,"form-control"),(0,i.jsx)(p,{...b,type:r,size:d,ref:s,readOnly:j,id:m||g,className:t()(h,u?"".concat(a,"-plaintext"):a,c&&"".concat(a,"-").concat(c),"color"===r&&"".concat(a,"-color"),x&&"is-valid",f&&"is-invalid")})}));d.displayName="FormControl";const m=Object.assign(d,{Feedback:c.Z})},323:(e,s,a)=>{a.d(s,{Z:()=>n});var r=a(72791),t=a(84934),l=a(80184);const c=r.forwardRef(((e,s)=>{let{controlId:a,as:c="div",...n}=e;const o=(0,r.useMemo)((()=>({controlId:a})),[a]);return(0,l.jsx)(t.Z.Provider,{value:o,children:(0,l.jsx)(c,{...n,ref:s})})}));c.displayName="FormGroup";const n=c},53392:(e,s,a)=>{a.d(s,{Z:()=>m});var r=a(81694),t=a.n(r),l=a(72791),c=(a(42391),a(2677)),n=a(84934),o=a(10162),i=a(80184);const d=l.forwardRef(((e,s)=>{let{as:a="label",bsPrefix:r,column:d=!1,visuallyHidden:m=!1,className:h,htmlFor:x,...f}=e;const{controlId:u}=(0,l.useContext)(n.Z);r=(0,o.vE)(r,"form-label");let j="col-form-label";"string"===typeof d&&(j="".concat(j," ").concat(j,"-").concat(d));const p=t()(h,r,m&&"visually-hidden",d&&j);return x=x||u,d?(0,i.jsx)(c.Z,{ref:s,as:"label",className:p,htmlFor:x,...f}):(0,i.jsx)(a,{ref:s,className:p,htmlFor:x,...f})}));d.displayName="FormLabel";const m=d},42391:e=>{var s=function(){};e.exports=s},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=498.af43821b.chunk.js.map