"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3139],{25407:(e,a,t)=>{t.d(a,{Y:()=>r});const r="http://20.235.178.6:3007"},14532:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var r=t(72791),s=t(78983),n=t(59565),c=t(33821),l=t(89743),i=t(2677),o=t(16157),d=t(34782),m=t(12903),u=t(88898),h=t(25407),f=t(68446),x=t(80184);const b=()=>{const{user:e}=(0,r.useContext)(u.S),a=e.userId,[t,b]=(0,r.useState)([]),[j,g]=(0,r.useState)(""),[_,N]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),[y,Z]=(0,r.useState)(""),[w,C]=(0,r.useState)(!1),[S,k]=(0,r.useState)(""),[F,A]=(0,r.useState)(""),E=e=>{if(N(e.target.value),v(""),0===_.length)return Z("Name must be at least 2 characters long."),!1;Z("");return _.length<1?(Z("Name must be at least 2 characters long."),!1):/^[a-zA-Z\s]+$/.test(_)?(Z(""),!0):(Z("Only letters and spaces are allowed."),!1)};(0,r.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(h.Y,"/api/users/get_all_firms_by_user/").concat(a));if(!e.ok)throw new Error("Failed to fetch data");const t=await e.json();b(t.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[a]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(n.gV,{}),(0,x.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,x.jsx)(n.Pm,{}),(0,x.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,x.jsx)(s.rb,{className:"justify-content-center mb-3",children:(0,x.jsx)(s.b7,{md:12,children:(0,x.jsxs)(s.xH,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,x.jsx)(s.rb,{className:"align-items-center",children:(0,x.jsx)(s.b7,{style:{marginLeft:"11px"},className:"col-9",children:(0,x.jsxs)(s.rb,{className:"allfirms_icon_title_row align-items-center",children:[(0,x.jsx)(s.b7,{className:"col-2 col-md-1",children:(0,x.jsx)("img",{className:"sidebar_icon_color",src:f,width:25,height:25,alt:"All Firms Logo"})}),(0,x.jsx)(s.b7,{className:"col-8 col-md-7",children:(0,x.jsx)("h5",{className:"title_font mb-0",style:{color:"white"},children:"Create Firm Account"})})]})})}),(0,x.jsx)(s.rb,{className:"allfirms_table_row py-5 justify-content-center",children:(0,x.jsx)(s.b7,{md:10,children:(0,x.jsxs)(c.Z,{children:[(0,x.jsxs)(c.Z.Group,{as:l.Z,className:"mb-3",controlId:"formFirmName",children:[(0,x.jsx)(c.Z.Label,{column:!0,sm:3,children:"Firm Name"}),(0,x.jsx)(i.Z,{sm:6,children:(0,x.jsxs)(c.Z.Control,{as:"select",value:j,className:"form-select",onChange:e=>g(e.target.value),children:[(0,x.jsx)("option",{value:"",children:"Select Firm"}),t.map((e=>(0,x.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})})]}),(0,x.jsxs)(c.Z.Group,{as:l.Z,className:"mb-3",controlId:"formGeneralLedgerName",children:[(0,x.jsx)(c.Z.Label,{column:!0,sm:3,children:"Firm Account Name"}),(0,x.jsxs)(i.Z,{sm:6,children:[(0,x.jsx)(c.Z.Control,{type:"text",value:_,onChange:E}),(0,x.jsx)("div",{style:{color:"green",fontSize:"14px"},children:"[Firm Account Name can be Expense or Salary or Person Name like 'Aditya', 'Megha']"}),y&&(0,x.jsx)("div",{className:"text-danger mb-2",children:y})]})]}),p&&(0,x.jsx)("div",{className:"text-danger mb-2",children:p}),(0,x.jsx)(l.Z,{className:"cf_acc_bt_row justify-content-center align-content-center",children:(0,x.jsx)(o.Z,{variant:"primary",id:"but_color",onClick:async()=>{try{if(j&&v(""),!j||!_)return void v("Please select a firm and enter a firm account name");if(!E({target:{value:_}}))return v(""),void Z("Enter valid firm account name.");const e=j;201===(await m.Z.post("".concat(h.Y,"/api/users/create_general_ledgers/").concat(e),{gl_name:_})).status&&(A("Firm Account Status"),k("Firm account created successfully !!"),C(!0),N(""))}catch(e){console.error("Error creating general ledger:",e),A("Firm Account Status"),k("Please try again !!"),C(!0)}},children:"Create"})})]})})})]})})})})]}),(0,x.jsxs)(d.Z,{show:w,onHide:()=>C(!1),centered:!0,children:[(0,x.jsx)(d.Z.Header,{closeButton:!0,children:(0,x.jsx)(d.Z.Title,{children:F})}),(0,x.jsx)(d.Z.Body,{children:S}),(0,x.jsx)(d.Z.Footer,{children:(0,x.jsx)(o.Z,{variant:"primary",onClick:()=>C(!1),children:"Close"})})]})]})}},16157:(e,a,t)=>{t.d(a,{Z:()=>u});var r=t(81694),s=t.n(r),n=t(72791),c=t(80184);const l=["as","disabled"];function i(e){let{tagName:a,disabled:t,href:r,target:s,rel:n,role:c,onClick:l,tabIndex:i=0,type:o}=e;a||(a=null!=r||null!=s||null!=n?"a":"button");const d={tagName:a};if("button"===a)return[{type:o||"button",disabled:t},d];const m=e=>{(t||"a"===a&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),t?e.stopPropagation():null==l||l(e)};return"a"===a&&(r||(r="#"),t&&(r=void 0)),[{role:null!=c?c:"button",disabled:void 0,tabIndex:t?void 0:i,href:r,target:"a"===a?s:void 0,"aria-disabled":t||void 0,rel:"a"===a?n:void 0,onClick:m,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),m(e))}},d]}const o=n.forwardRef(((e,a)=>{let{as:t,disabled:r}=e,s=function(e,a){if(null==e)return{};var t,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,l);const[n,{tagName:o}]=i(Object.assign({tagName:t,disabled:r},s));return(0,c.jsx)(o,Object.assign({},s,n,{ref:a}))}));o.displayName="Button";var d=t(10162);const m=n.forwardRef(((e,a)=>{let{as:t,bsPrefix:r,variant:n="primary",size:l,active:o=!1,disabled:m=!1,className:u,...h}=e;const f=(0,d.vE)(r,"btn"),[x,{tagName:b}]=i({tagName:t,disabled:m,...h}),j=b;return(0,c.jsx)(j,{...x,...h,ref:a,disabled:m,className:s()(u,f,o&&"active",n&&"".concat(f,"-").concat(n),l&&"".concat(f,"-").concat(l),h.href&&m&&"disabled")})}));m.displayName="Button";const u=m}}]);
//# sourceMappingURL=3139.1366ca3f.chunk.js.map