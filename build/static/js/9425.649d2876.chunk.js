"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9425],{25407:(e,t,s)=>{s.d(t,{Y:()=>a});const a="http://20.235.178.6:3007"},29425:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(72791),r=s(78983),c=s(59565),l=(s(13162),s(33821)),n=s(323),o=s(89743),i=s(2677),d=s(74292),m=s(28282),f=s(62591),h=s(88898),x=s(25407),j=s(59513),p=s.n(j),b=(s(68639),s(37897)),u=s(80184);const y=()=>{const{user:e}=(0,a.useContext)(h.S),t=e.userId,[s,j]=(0,a.useState)([]),[y,N]=(0,a.useState)(""),[g,v]=(0,a.useState)([]),[_,A]=(0,a.useState)(!1),[w,F]=(0,a.useState)(null),[Z,C]=(0,a.useState)(!0),[E,k]=(0,a.useState)(null),[I,S]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(x.Y,"/api/users/get_all_firms_by_user/").concat(t));if(!e.ok)throw new Error("Failed to fetch firms");const s=await e.json();j(s.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[t]),(0,a.useEffect)((()=>{T()}),[y,E,I]);const T=async()=>{if(y){A(!0);try{const e=y;let t="".concat(x.Y,"/api/users/show_firm_all_transactions/").concat(e,"/transactions");if(E){const e=E.toLocaleDateString("en-CA");t+="?startDate=".concat(e)}if(I){const e=new Date(I);e.setDate(e.getDate()+1);const s=e.toLocaleDateString("en-CA");t+=E?"&endDate=".concat(s):"?endDate=".concat(s)}const s=await fetch(t),a=await s.json();if(!s.ok||!1===a.status)return C(!1),void v([]);v(a.data),console.log(a.data),C(a.data.length>0)}catch(e){console.error("Error fetching transactions:",e),C(!1)}finally{A(!1)}}};return(0,a.useEffect)((()=>{(async()=>{if(y)try{const e=y,t=await fetch("".concat(x.Y,"/api/users/firm_total_bal/").concat(e));if(!t.ok)throw new Error("Failed to fetch total balance");const s=await t.json();F(s.data.totalBalance)}catch(e){console.error("Error fetching total balance:",e)}})()}),[y]),(0,u.jsxs)("div",{children:[(0,u.jsx)(c.gV,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,u.jsx)(c.Pm,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-2",children:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.rb,{className:"justify-content-center mb-3",children:(0,u.jsx)(r.b7,{className:"col-md-12",children:(0,u.jsxs)(r.xH,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,u.jsx)(r.rb,{className:"align-items-center",children:(0,u.jsx)(r.b7,{style:{marginLeft:"11px"},className:"col-10",children:(0,u.jsxs)(r.rb,{className:"allfirms_icon_title_row align-items-center",children:[(0,u.jsx)(r.b7,{className:"col-2 col-md-1",children:(0,u.jsx)("img",{className:"sidebar_icon_color",src:b,width:25,height:25,alt:"All Firms Logo"})}),(0,u.jsx)(r.b7,{className:"col-7 col-md-7",children:(0,u.jsx)("h5",{className:"title_font mb-0",style:{color:"white"},children:"Firm Transactions"})})]})})}),(0,u.jsx)(r.rb,{className:"allfirms_table_row py-5 justify-content-center",children:(0,u.jsxs)(r.b7,{children:[(0,u.jsxs)(r.rb,{className:"justify-content-center mb-3",children:[(0,u.jsx)(r.b7,{className:"justify-content-start justify-content-md-start facc_sel_firm_col",children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(n.Z,{as:o.Z,className:"mb-3",children:(0,u.jsx)(i.Z,{md:11,className:"justify-content-start justify-content-md-start",children:(0,u.jsxs)(d.Z,{as:"select",value:y,className:"form-select",onChange:e=>N(e.target.value),style:{maxWidth:"100%"},children:[(0,u.jsx)("option",{value:"",children:"Select Firm"}),s.map((e=>(0,u.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})})})})}),(0,u.jsx)(r.b7,{className:"d-flex align-items-center justify-content-center justify-content-md-end mt-0 mt-md-0 facc_f_bal",children:null!==w&&(0,u.jsxs)("div",{style:{backgroundColor:"green",color:"white",padding:"10px",borderRadius:"5px"},children:["Firm Total Balance: ",w]})})]}),(0,u.jsx)(r.rb,{className:"justify-content-center mb-3",children:(0,u.jsxs)(r.b7,{className:"allpay_datefil_col",children:[(0,u.jsx)(p(),{selected:E,onChange:e=>k(e),selectsStart:!0,startDate:E,endDate:I,placeholderText:"Start Date",className:"form-control allpay_datefil",md:2}),(0,u.jsx)(p(),{selected:I,onChange:e=>S(e),selectsEnd:!0,startDate:E,endDate:I,minDate:E,placeholderText:"End Date",className:"form-control allpay_datefil",md:2}),(0,u.jsx)(r.u5,{onClick:T,id:"fil_but_color",className:"mt-0 allpay_datefil_but",children:"Filter"})]})}),(0,u.jsx)(r.rb,{children:(0,u.jsx)(i.Z,{md:12,children:(0,u.jsx)(l.Z,{children:(0,u.jsxs)(m.Z,{className:"mb-3",children:[(0,u.jsx)(m.Z.Header,{className:"text-white",id:"bg__color",children:"Firm Transactions"}),(0,u.jsx)(m.Z.Body,{children:_?(0,u.jsx)("p",{children:"Loading..."}):Z?(0,u.jsxs)(f.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Sr.No"}),(0,u.jsx)("th",{children:"Account"}),(0,u.jsx)("th",{children:"From/To"}),(0,u.jsx)("th",{children:"Transaction with Firm"}),(0,u.jsx)("th",{children:"Cr/Dr Amount"}),(0,u.jsx)("th",{children:"Date"}),(0,u.jsx)("th",{children:"Remark"})]})}),(0,u.jsx)("tbody",{children:g.map(((e,t)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t+1}),"payment"===e.type?(0,u.jsx)("td",{children:e.from_gl_name}):(0,u.jsx)("td",{children:e.to_gl_name}),"payment"===e.type?(0,u.jsx)("td",{style:{fontWeight:"500"},children:"To"}):(0,u.jsx)("td",{style:{fontWeight:"500"},children:"From"}),"payment"===e.type?(0,u.jsxs)("td",{children:[e.to_firm_name," - ",e.to_gl_name]}):(0,u.jsxs)("td",{children:[e.from_firm_name," - ",e.from_gl_name]}),(0,u.jsxs)("td",{style:{color:"payment"===e.type?"red":"green"},children:["payment"===e.type?"-":"+",e.amount]}),(0,u.jsx)("td",{children:new Date(e.transaction_date).toLocaleString()}),(0,u.jsx)("td",{children:e.remark})]},e.transaction_id)))})]}):(0,u.jsx)("p",{children:"No Transactions for this firm"})})]})})})})]})})]})})})})})]})]})}},70783:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=s(52007),n=s.n(l),o=s(80184);const i={type:n().string,tooltip:n().bool,as:n().elementType},d=c.forwardRef(((e,t)=>{let{as:s="div",className:a,type:c="valid",tooltip:l=!1,...n}=e;return(0,o.jsx)(s,{...n,ref:t,className:r()(a,"".concat(c,"-").concat(l?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=i;const m=d},33821:(e,t,s)=>{s.d(t,{Z:()=>P});var a=s(81694),r=s.n(a),c=s(52007),l=s.n(c),n=s(72791),o=s(70783),i=s(96882),d=s(84934),m=s(10162),f=s(80184);const h=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,htmlFor:c,...l}=e;const{controlId:o}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-check-label"),(0,f.jsx)("label",{...l,ref:t,htmlFor:c||o,className:r()(a,s)})}));h.displayName="FormCheckLabel";const x=h;var j=s(11701);const p=n.forwardRef(((e,t)=>{let{id:s,bsPrefix:a,bsSwitchPrefix:c,inline:l=!1,reverse:h=!1,disabled:p=!1,isValid:b=!1,isInvalid:u=!1,feedbackTooltip:y=!1,feedback:N,feedbackType:g,className:v,style:_,title:A="",type:w="checkbox",label:F,children:Z,as:C="input",...E}=e;a=(0,m.vE)(a,"form-check"),c=(0,m.vE)(c,"form-switch");const{controlId:k}=(0,n.useContext)(d.Z),I=(0,n.useMemo)((()=>({controlId:s||k})),[k,s]),S=!Z&&null!=F&&!1!==F||(0,j.XW)(Z,x),T=(0,f.jsx)(i.Z,{...E,type:"switch"===w?"checkbox":w,ref:t,isValid:b,isInvalid:u,disabled:p,as:C});return(0,f.jsx)(d.Z.Provider,{value:I,children:(0,f.jsx)("div",{style:_,className:r()(v,S&&a,l&&"".concat(a,"-inline"),h&&"".concat(a,"-reverse"),"switch"===w&&c),children:Z||(0,f.jsxs)(f.Fragment,{children:[T,S&&(0,f.jsx)(x,{title:A,children:F}),N&&(0,f.jsx)(o.Z,{type:g,tooltip:y,children:N})]})})})}));p.displayName="FormCheck";const b=Object.assign(p,{Input:i.Z,Label:x});var u=s(74292);const y=n.forwardRef(((e,t)=>{let{className:s,bsPrefix:a,as:c="div",...l}=e;return a=(0,m.vE)(a,"form-floating"),(0,f.jsx)(c,{ref:t,className:r()(s,a),...l})}));y.displayName="FormFloating";const N=y;var g=s(323),v=s(53392);const _=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,id:c,...l}=e;const{controlId:o}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-range"),(0,f.jsx)("input",{...l,type:"range",ref:t,className:r()(a,s),id:c||o})}));_.displayName="FormRange";const A=_,w=n.forwardRef(((e,t)=>{let{bsPrefix:s,size:a,htmlSize:c,className:l,isValid:o=!1,isInvalid:i=!1,id:h,...x}=e;const{controlId:j}=(0,n.useContext)(d.Z);return s=(0,m.vE)(s,"form-select"),(0,f.jsx)("select",{...x,size:c,ref:t,className:r()(l,s,a&&"".concat(s,"-").concat(a),o&&"is-valid",i&&"is-invalid"),id:h||j})}));w.displayName="FormSelect";const F=w,Z=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,as:c="small",muted:l,...n}=e;return s=(0,m.vE)(s,"form-text"),(0,f.jsx)(c,{...n,ref:t,className:r()(a,s,l&&"text-muted")})}));Z.displayName="FormText";const C=Z,E=n.forwardRef(((e,t)=>(0,f.jsx)(b,{...e,ref:t,type:"switch"})));E.displayName="Switch";const k=Object.assign(E,{Input:b.Input,Label:b.Label}),I=n.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,children:c,controlId:l,label:n,...o}=e;return s=(0,m.vE)(s,"form-floating"),(0,f.jsxs)(g.Z,{ref:t,className:r()(a,s),controlId:l,...o,children:[c,(0,f.jsx)("label",{htmlFor:l,children:n})]})}));I.displayName="FloatingLabel";const S=I,T={_ref:l().any,validated:l().bool,as:l().elementType},R=n.forwardRef(((e,t)=>{let{className:s,validated:a,as:c="form",...l}=e;return(0,f.jsx)(c,{...l,ref:t,className:r()(s,a&&"was-validated")})}));R.displayName="Form",R.propTypes=T;const P=Object.assign(R,{Group:g.Z,Control:u.Z,Floating:N,Check:b,Switch:k,Label:v.Z,Text:C,Range:A,Select:F,FloatingLabel:S})},96882:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(81694),r=s.n(a),c=s(72791),l=s(84934),n=s(10162),o=s(80184);const i=c.forwardRef(((e,t)=>{let{id:s,bsPrefix:a,className:i,type:d="checkbox",isValid:m=!1,isInvalid:f=!1,as:h="input",...x}=e;const{controlId:j}=(0,c.useContext)(l.Z);return a=(0,n.vE)(a,"form-check-input"),(0,o.jsx)(h,{...x,ref:t,type:d,id:s||j,className:r()(i,a,m&&"is-valid",f&&"is-invalid")})}));i.displayName="FormCheckInput";const d=i},84934:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s(72791).createContext({})},74292:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=(s(42391),s(70783)),n=s(84934),o=s(10162),i=s(80184);const d=c.forwardRef(((e,t)=>{let{bsPrefix:s,type:a,size:l,htmlSize:d,id:m,className:f,isValid:h=!1,isInvalid:x=!1,plaintext:j,readOnly:p,as:b="input",...u}=e;const{controlId:y}=(0,c.useContext)(n.Z);return s=(0,o.vE)(s,"form-control"),(0,i.jsx)(b,{...u,type:a,size:d,ref:t,readOnly:p,id:m||y,className:r()(f,j?"".concat(s,"-plaintext"):s,l&&"".concat(s,"-").concat(l),"color"===a&&"".concat(s,"-color"),h&&"is-valid",x&&"is-invalid")})}));d.displayName="FormControl";const m=Object.assign(d,{Feedback:l.Z})},323:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(72791),r=s(84934),c=s(80184);const l=a.forwardRef(((e,t)=>{let{controlId:s,as:l="div",...n}=e;const o=(0,a.useMemo)((()=>({controlId:s})),[s]);return(0,c.jsx)(r.Z.Provider,{value:o,children:(0,c.jsx)(l,{...n,ref:t})})}));l.displayName="FormGroup";const n=l},53392:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(81694),r=s.n(a),c=s(72791),l=(s(42391),s(2677)),n=s(84934),o=s(10162),i=s(80184);const d=c.forwardRef(((e,t)=>{let{as:s="label",bsPrefix:a,column:d=!1,visuallyHidden:m=!1,className:f,htmlFor:h,...x}=e;const{controlId:j}=(0,c.useContext)(n.Z);a=(0,o.vE)(a,"form-label");let p="col-form-label";"string"===typeof d&&(p="".concat(p," ").concat(p,"-").concat(d));const b=r()(f,a,m&&"visually-hidden",d&&p);return h=h||j,d?(0,i.jsx)(l.Z,{ref:t,as:"label",className:b,htmlFor:h,...x}):(0,i.jsx)(s,{ref:t,className:b,htmlFor:h,...x})}));d.displayName="FormLabel";const m=d},62591:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(81694),r=s.n(a),c=s(72791),l=s(10162),n=s(80184);const o=c.forwardRef(((e,t)=>{let{bsPrefix:s,className:a,striped:c,bordered:o,borderless:i,hover:d,size:m,variant:f,responsive:h,...x}=e;const j=(0,l.vE)(s,"table"),p=r()(a,j,f&&"".concat(j,"-").concat(f),m&&"".concat(j,"-").concat(m),c&&"".concat(j,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),o&&"".concat(j,"-bordered"),i&&"".concat(j,"-borderless"),d&&"".concat(j,"-hover")),b=(0,n.jsx)("table",{...x,className:p,ref:t});if(h){let e="".concat(j,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,n.jsx)("div",{className:e,children:b})}return b}))},42391:e=>{var t=function(){};e.exports=t},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=9425.649d2876.chunk.js.map