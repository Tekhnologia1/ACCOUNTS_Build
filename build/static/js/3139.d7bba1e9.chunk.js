"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3139],{25407:(e,r,a)=>{a.d(r,{Y:()=>s});const s="http://65.1.108.30:3007"},14532:(e,r,a)=>{a.r(r),a.d(r,{default:()=>x});var s=a(72791),t=a(78983),l=a(35109),c=a(13162),n=a(33821),i=a(89743),o=a(2677),d=a(16157),m=a(12903),h=a(88898),A=a(25407),u=a(80184);const x=()=>{const{user:e}=(0,s.useContext)(h.S),r=e.userId,[a,x]=(0,s.useState)([]),[g,f]=(0,s.useState)(""),[b,j]=(0,s.useState)(""),[p,_]=(0,s.useState)(""),y=e=>{const r=e.target.value;if(0===r.length)return _("Name must not be blank."),!1;j(r),_("");return r.length<2?(_("Name must be at least 2 characters long."),!1):/^[a-zA-Z\s]+$/.test(r)?(_(""),!0):(_("Only letters and spaces are allowed."),!1)};(0,s.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(A.Y,"/api/users/get_all_firms_by_user/").concat(r));if(!e.ok)throw new Error("Failed to fetch data");const a=await e.json();x(a.data)}catch(e){console.error("Error fetching firms:",e)}})()}),[r]);return(0,u.jsxs)("div",{children:[(0,u.jsx)(l.gV,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,u.jsx)(l.Pm,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-5",children:(0,u.jsx)(t.rb,{className:"justify-content-center mb-3",children:(0,u.jsx)(t.b7,{md:12,children:(0,u.jsxs)(t.xH,{className:"card_border_color_change py-5",style:{borderColor:"white"},children:[(0,u.jsx)(t.rb,{className:"allfirms_title_mainrow",children:(0,u.jsx)(t.b7,{md:9,style:{marginLeft:"10px"},children:(0,u.jsxs)(t.rb,{className:"allfirms_title_row py-1 align-items-center",children:[(0,u.jsx)(t.b7,{md:1,children:(0,u.jsx)(t.DW,{className:"",src:c,width:25,height:25})}),(0,u.jsx)(t.b7,{md:6,children:(0,u.jsx)("h4",{children:"Create Firm Accounts"})})]})})}),(0,u.jsx)(t.rb,{className:"allfirms_table_row py-5 justify-content-center",children:(0,u.jsx)(t.b7,{md:10,children:(0,u.jsxs)(n.Z,{children:[(0,u.jsxs)(n.Z.Group,{as:i.Z,className:"mb-3",controlId:"formFirmName",children:[(0,u.jsx)(n.Z.Label,{column:!0,sm:3,children:"Firm Name"}),(0,u.jsx)(o.Z,{sm:6,children:(0,u.jsxs)(n.Z.Control,{as:"select",value:g,className:"form-select",onChange:e=>f(e.target.value),children:[(0,u.jsx)("option",{value:"",children:"Select Firm"}),a.map((e=>(0,u.jsx)("option",{value:e.firm_id,children:e.firm_name},e.firm_id)))]})})]}),(0,u.jsxs)(n.Z.Group,{as:i.Z,className:"mb-3",controlId:"formGeneralLedgerName",children:[(0,u.jsx)(n.Z.Label,{column:!0,sm:3,children:"Firm Account Name"}),(0,u.jsxs)(o.Z,{sm:6,children:[(0,u.jsx)(n.Z.Control,{type:"text",value:b,onChange:y}),(0,u.jsx)("div",{style:{color:"green",fontSize:"14px"},children:"[Firm Account Name can be Expense or Salary or Person Name like 'Aditya', 'Megha']"}),p&&(0,u.jsx)("div",{className:"text-danger mb-2",children:p})]}),(0,u.jsx)(o.Z,{sm:2,children:(0,u.jsx)(d.Z,{variant:"primary",id:"but_color",onClick:async()=>{try{if(!y({target:{value:b}}))return void _("Enter valid firm account name.");if(!g||!b)return void alert("Please select a firm and enter a general ledger name");const e=g;201===(await m.Z.post("".concat(A.Y,"/api/users/create_general_ledgers/").concat(e),{gl_name:b})).status&&(alert("General ledger created successfully"),j(""))}catch(e){console.error("Error creating general ledger:",e),alert("Failed to create general ledger")}},children:"Create"})})]})]})})})]})})})})]})]})}},13162:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFdSURBVHgB7ZZPTsJAFMbfDEVJMdob2KUxttYb4A28gRyhobovezF4AuEEegPxBBJWLucILghRUjtMaUlK2xmmfxJY9Ldok29e3tfO+5IZgD2AkkLz0rYaGDSoCg/I7/eQxCUlZao03tnrHKriiPbZ041LGPaAIlgbY4xGUBDfpyPg7JjAlJL5dDCBgqimw107uO1dI0xzlMytmoy05jcVpTlK5lZNRlqTHOb2sgR3eWseNEmyZqOVMv1bej/8mXrpmkgrZVrPNKCeKdQzlTWdT58mVdTEEW6vptuaajh3ZXVpU0rR9fIUf7Fb1Jtq9F5bF7Ye6K0ruyOjM+mM1zt1MWOHL4GMtFJ2qCNKPwHhexk9VtFfzJ5dkPnTsCEQ9hqHX4f0TWMZXQTXFIH/coz/bxazQdf30S2EDXPrUrQN5+PEeugkdc2ytbb1aOXSTWeomj0XdhEUQ4VU3a8wK4sKsQsFva6bAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=3139.d7bba1e9.chunk.js.map